// Generated by CIRCT firtool-1.62.0
module MemoryArbiter(	// src/main/scala/common/MemoryArbiter.scala:6:7
  input         clock,	// src/main/scala/common/MemoryArbiter.scala:6:7
                reset,	// src/main/scala/common/MemoryArbiter.scala:6:7
  input  [31:0] io_ifu_ar_addr,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_ifu_ar_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_ifu_ar_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [31:0] io_ifu_r_data,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_ifu_r_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_ifu_r_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [31:0] io_lsu_aw_addr,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [2:0]  io_lsu_aw_size,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_aw_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_aw_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [31:0] io_lsu_w_data,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [3:0]  io_lsu_w_strb,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_w_last,	// src/main/scala/common/MemoryArbiter.scala:7:14
                io_lsu_w_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_w_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [1:0]  io_lsu_b_resp,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_b_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_b_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [31:0] io_lsu_ar_addr,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [2:0]  io_lsu_ar_size,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_ar_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_ar_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [31:0] io_lsu_r_data,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [1:0]  io_lsu_r_resp,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_r_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_r_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [31:0] io_axi_aw_addr,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [2:0]  io_axi_aw_size,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_axi_aw_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_axi_aw_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [31:0] io_axi_w_data,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [3:0]  io_axi_w_strb,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_axi_w_last,	// src/main/scala/common/MemoryArbiter.scala:7:14
                io_axi_w_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_axi_w_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [1:0]  io_axi_b_resp,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_axi_b_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_axi_b_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [31:0] io_axi_ar_addr,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [2:0]  io_axi_ar_size,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_axi_ar_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_axi_ar_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [31:0] io_axi_r_data,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [1:0]  io_axi_r_resp,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_axi_r_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_axi_r_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_ifu_handshake_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_ifu_handshake_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_handshake_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_handshake_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [1:0]  io_Arbiter_state_debug	// src/main/scala/common/MemoryArbiter.scala:7:14
);

  reg  state;	// src/main/scala/common/MemoryArbiter.scala:30:22
  wire _GEN = state & io_ifu_handshake_valid;	// src/main/scala/common/MemoryArbiter.scala:30:22, :33:17, :51:36, :52:16, src/main/scala/common/axi4.scala:116:18
  wire _GEN_0 = ~state | io_ifu_handshake_valid | ~io_lsu_handshake_valid;	// src/main/scala/common/MemoryArbiter.scala:30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:74:17
  always @(posedge clock) begin	// src/main/scala/common/MemoryArbiter.scala:6:7
    if (reset)	// src/main/scala/common/MemoryArbiter.scala:6:7
      state <= 1'h0;	// src/main/scala/common/MemoryArbiter.scala:7:14, :30:22
    else if (state)	// src/main/scala/common/MemoryArbiter.scala:30:22
      state <= io_ifu_handshake_valid | io_lsu_handshake_valid;	// src/main/scala/common/MemoryArbiter.scala:30:22, :51:36, :53:15, :54:43
    else	// src/main/scala/common/MemoryArbiter.scala:30:22
      state <= io_ifu_handshake_valid | io_lsu_handshake_valid;	// src/main/scala/common/MemoryArbiter.scala:30:22, :39:35
  end // always @(posedge)
  assign io_ifu_ar_ready = state & _GEN & io_axi_ar_ready;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, src/main/scala/common/axi4.scala:116:18
  assign io_ifu_r_data = state & _GEN ? io_axi_r_data : 32'h0;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :30:22, :33:17, :51:36, :52:16, src/main/scala/common/axi4.scala:116:18, :120:16
  assign io_ifu_r_valid = state & _GEN & io_axi_r_valid;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, src/main/scala/common/axi4.scala:116:18, :123:17
  assign io_lsu_aw_ready =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_axi_aw_ready;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:105:18
  assign io_lsu_w_ready =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_axi_w_ready;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:108:17
  assign io_lsu_b_resp = _GEN_0 ? 2'h0 : io_axi_b_resp;	// src/main/scala/common/MemoryArbiter.scala:6:7, :33:17, src/main/scala/common/axi4.scala:74:17, :112:16
  assign io_lsu_b_valid =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_axi_b_valid;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:113:17
  assign io_lsu_ar_ready =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_axi_ar_ready;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:116:18
  assign io_lsu_r_data = _GEN_0 ? 32'h0 : io_axi_r_data;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17, :120:16
  assign io_lsu_r_resp = _GEN_0 ? 2'h0 : io_axi_r_resp;	// src/main/scala/common/MemoryArbiter.scala:6:7, :33:17, src/main/scala/common/axi4.scala:74:17, :112:16, :121:16
  assign io_lsu_r_valid =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_axi_r_valid;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:123:17
  assign io_axi_aw_addr = _GEN_0 ? 32'h0 : io_lsu_aw_addr;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17
  assign io_axi_aw_size = _GEN_0 ? 3'h2 : io_lsu_aw_size;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17, :76:17
  assign io_axi_aw_valid =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_lsu_aw_valid;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:73:18
  assign io_axi_w_data = _GEN_0 ? 32'h0 : io_lsu_w_data;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17, :82:16
  assign io_axi_w_strb = _GEN_0 ? 4'h0 : io_lsu_w_strb;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17, :83:16
  assign io_axi_w_last =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_lsu_w_last;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:84:16
  assign io_axi_w_valid =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_lsu_w_valid;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:81:17
  assign io_axi_b_ready =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_lsu_b_ready;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:87:17
  assign io_axi_ar_addr =
    state
      ? (io_ifu_handshake_valid
           ? io_ifu_ar_addr
           : io_lsu_handshake_valid ? io_lsu_ar_addr : 32'h0)
      : 32'h0;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :30:22, :33:17, :51:36, :52:16, :54:43, :55:16, src/main/scala/common/axi4.scala:91:17
  assign io_axi_ar_size = _GEN_0 ? 3'h2 : io_lsu_ar_size;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17, :93:17
  assign io_axi_ar_valid =
    state
    & (io_ifu_handshake_valid
         ? io_ifu_ar_valid
         : io_lsu_handshake_valid & io_lsu_ar_valid);	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, :55:16, src/main/scala/common/axi4.scala:90:18
  assign io_axi_r_ready =
    state
    & (io_ifu_handshake_valid ? io_ifu_r_ready : io_lsu_handshake_valid & io_lsu_r_ready);	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, :55:16, src/main/scala/common/axi4.scala:98:17
  assign io_ifu_handshake_ready = ~state;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17
  assign io_lsu_handshake_ready = ~state;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17
  assign io_Arbiter_state_debug = {1'h0, state};	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :30:22, :64:26
endmodule

