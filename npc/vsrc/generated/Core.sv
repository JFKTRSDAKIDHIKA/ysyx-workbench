// Generated by CIRCT firtool-1.62.0
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

// external module EBreakHandler

module IFU(	// src/main/scala/npc/ifu.scala:9:7
  input         clock,	// src/main/scala/npc/ifu.scala:9:7
                reset,	// src/main/scala/npc/ifu.scala:9:7
                io_out_ready,	// src/main/scala/npc/ifu.scala:10:14
  output        io_out_valid,	// src/main/scala/npc/ifu.scala:10:14
  output [31:0] io_out_bits_inst,	// src/main/scala/npc/ifu.scala:10:14
                io_out_bits_pc,	// src/main/scala/npc/ifu.scala:10:14
  input  [2:0]  io_pc_sel,	// src/main/scala/npc/ifu.scala:10:14
  input  [31:0] io_jump_reg_target,	// src/main/scala/npc/ifu.scala:10:14
                io_br_target,	// src/main/scala/npc/ifu.scala:10:14
                io_jmp_target,	// src/main/scala/npc/ifu.scala:10:14
  input         io_pc_wen,	// src/main/scala/npc/ifu.scala:10:14
                io_lsu_axi_resp_err,	// src/main/scala/npc/ifu.scala:10:14
  output [31:0] io_memory_ar_addr,	// src/main/scala/npc/ifu.scala:10:14
  output        io_memory_ar_valid,	// src/main/scala/npc/ifu.scala:10:14
  input         io_memory_ar_ready,	// src/main/scala/npc/ifu.scala:10:14
  input  [31:0] io_memory_r_data,	// src/main/scala/npc/ifu.scala:10:14
  input         io_memory_r_valid,	// src/main/scala/npc/ifu.scala:10:14
  output        io_memory_r_ready,	// src/main/scala/npc/ifu.scala:10:14
                io_arbiter_valid,	// src/main/scala/npc/ifu.scala:10:14
  input         io_arbiter_ready,	// src/main/scala/npc/ifu.scala:10:14
  output [31:0] io_pc_debug,	// src/main/scala/npc/ifu.scala:10:14
                io_inst_debug,	// src/main/scala/npc/ifu.scala:10:14
  output [2:0]  io_ifu_state_debug	// src/main/scala/npc/ifu.scala:10:14
);

  reg  [31:0] pc;	// src/main/scala/npc/ifu.scala:47:19
  reg  [31:0] if_inst_buffer;	// src/main/scala/npc/ifu.scala:48:31
  reg  [2:0]  state;	// src/main/scala/npc/ifu.scala:77:22
  wire        _GEN = state == 3'h0;	// src/main/scala/npc/ifu.scala:54:44, :77:22, :80:17
  wire        _GEN_0 = state == 3'h2;	// src/main/scala/npc/ifu.scala:54:44, :77:22, :80:17
  wire        _GEN_1 = state == 3'h1;	// src/main/scala/npc/ifu.scala:54:44, :77:22, :80:17
  wire        _GEN_2 = state == 3'h3;	// src/main/scala/npc/ifu.scala:54:44, :77:22, :80:17
  wire        _GEN_3 = _GEN_0 | _GEN_1;	// src/main/scala/npc/ifu.scala:48:31, :80:17
  wire        _GEN_4 = _GEN | _GEN_3;	// src/main/scala/npc/ifu.scala:48:31, :80:17
  wire        _GEN_5 = state == 3'h4;	// src/main/scala/npc/ifu.scala:50:21, :77:22, :80:17
  wire        _GEN_6 = _GEN | ~(_GEN_0 | ~(_GEN_1 | _GEN_2 | _GEN_5));	// src/main/scala/npc/ifu.scala:43:20, :80:17, :86:24, :116:24, :137:24, :159:24
  wire [31:0] io_inst_debug_0 = _GEN_6 ? if_inst_buffer : 32'h0;	// src/main/scala/npc/ifu.scala:48:31, :80:17, :86:24
  always @(posedge clock) begin	// src/main/scala/npc/ifu.scala:9:7
    if (reset) begin	// src/main/scala/npc/ifu.scala:9:7
      pc <= 32'h30000000;	// src/main/scala/npc/ifu.scala:47:19
      if_inst_buffer <= 32'h0;	// src/main/scala/npc/ifu.scala:48:31
      state <= 3'h1;	// src/main/scala/npc/ifu.scala:54:44, :77:22
    end
    else begin	// src/main/scala/npc/ifu.scala:9:7
      if (io_pc_wen) begin	// src/main/scala/npc/ifu.scala:10:14
        if (io_pc_sel == 3'h4)	// src/main/scala/npc/ifu.scala:50:21, :54:44
          pc <= 32'h0;	// src/main/scala/npc/ifu.scala:47:19, :48:31
        else if (io_pc_sel == 3'h2)	// src/main/scala/npc/ifu.scala:54:44
          pc <= io_jmp_target;	// src/main/scala/npc/ifu.scala:47:19
        else if (io_pc_sel == 3'h1)	// src/main/scala/npc/ifu.scala:54:44
          pc <= io_br_target;	// src/main/scala/npc/ifu.scala:47:19
        else if (io_pc_sel == 3'h3)	// src/main/scala/npc/ifu.scala:54:44
          pc <= io_jump_reg_target;	// src/main/scala/npc/ifu.scala:47:19
        else	// src/main/scala/npc/ifu.scala:54:44
          pc <= pc + 32'h4;	// src/main/scala/npc/ifu.scala:47:19, :50:21
      end
      if (_GEN_4 | ~(_GEN_2 & io_memory_r_valid)) begin	// src/main/scala/npc/ifu.scala:48:31, :80:17, :148:31, :149:24
      end
      else	// src/main/scala/npc/ifu.scala:48:31, :80:17
        if_inst_buffer <= io_memory_r_data;	// src/main/scala/npc/ifu.scala:48:31
      if (_GEN) begin	// src/main/scala/npc/ifu.scala:80:17
        if (io_pc_wen)	// src/main/scala/npc/ifu.scala:10:14
          state <= 3'h2;	// src/main/scala/npc/ifu.scala:54:44, :77:22
      end
      else if (_GEN_0) begin	// src/main/scala/npc/ifu.scala:80:17
        if (io_arbiter_ready)	// src/main/scala/npc/ifu.scala:10:14
          state <= 3'h1;	// src/main/scala/npc/ifu.scala:54:44, :77:22
      end
      else if (_GEN_1) begin	// src/main/scala/npc/ifu.scala:80:17
        if (io_memory_ar_ready)	// src/main/scala/npc/ifu.scala:10:14
          state <= 3'h3;	// src/main/scala/npc/ifu.scala:54:44, :77:22
      end
      else if (_GEN_2) begin	// src/main/scala/npc/ifu.scala:80:17
        if (io_memory_r_valid)	// src/main/scala/npc/ifu.scala:10:14
          state <= 3'h4;	// src/main/scala/npc/ifu.scala:50:21, :77:22
      end
      else if (_GEN_5 & io_out_ready)	// src/main/scala/npc/ifu.scala:77:22, :80:17, :170:26, :171:15
        state <= 3'h0;	// src/main/scala/npc/ifu.scala:54:44, :77:22
    end
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/npc/ifu.scala:9:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/npc/ifu.scala:9:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/npc/ifu.scala:9:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// src/main/scala/npc/ifu.scala:9:7
      automatic logic [31:0] _RANDOM[0:2];	// src/main/scala/npc/ifu.scala:9:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/npc/ifu.scala:9:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/npc/ifu.scala:9:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/npc/ifu.scala:9:7
        for (logic [1:0] i = 2'h0; i < 2'h3; i += 2'h1) begin
          _RANDOM[i] = `RANDOM;	// src/main/scala/npc/ifu.scala:9:7
        end	// src/main/scala/npc/ifu.scala:9:7
        pc = _RANDOM[2'h0];	// src/main/scala/npc/ifu.scala:9:7, :47:19
        if_inst_buffer = _RANDOM[2'h1];	// src/main/scala/npc/ifu.scala:9:7, :48:31
        state = _RANDOM[2'h2][2:0];	// src/main/scala/npc/ifu.scala:9:7, :77:22
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/npc/ifu.scala:9:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/npc/ifu.scala:9:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  EBreakHandler ebreakHandler (	// src/main/scala/npc/ifu.scala:66:29
    .inst             (io_inst_debug_0),	// src/main/scala/npc/ifu.scala:80:17, :86:24
    .lsu_axi_resp_err (io_lsu_axi_resp_err)
  );
  assign io_out_valid = ~(_GEN | _GEN_0 | _GEN_1 | _GEN_2) & _GEN_5;	// src/main/scala/npc/ifu.scala:9:7, :42:16, :80:17, :85:20, :115:20, :136:20
  assign io_out_bits_inst = io_inst_debug_0;	// src/main/scala/npc/ifu.scala:9:7, :80:17, :86:24
  assign io_out_bits_pc = pc;	// src/main/scala/npc/ifu.scala:9:7, :47:19
  assign io_memory_ar_addr = _GEN_6 ? pc : 32'h0;	// src/main/scala/npc/ifu.scala:9:7, :47:19, :48:31, :80:17, :86:24, :88:25
  assign io_memory_ar_valid = ~(_GEN | _GEN_0) & _GEN_1;	// src/main/scala/common/axi4.scala:90:18, src/main/scala/npc/ifu.scala:9:7, :80:17, :89:26
  assign io_memory_r_ready = ~_GEN_4 & _GEN_2;	// src/main/scala/common/axi4.scala:98:17, src/main/scala/npc/ifu.scala:9:7, :48:31, :80:17, :95:25, :125:25
  assign io_arbiter_valid = ~_GEN & (_GEN_3 | _GEN_2);	// src/main/scala/npc/ifu.scala:9:7, :48:31, :80:17, :83:24, :104:24, :113:24
  assign io_pc_debug = pc;	// src/main/scala/npc/ifu.scala:9:7, :47:19
  assign io_inst_debug = io_inst_debug_0;	// src/main/scala/npc/ifu.scala:9:7, :80:17, :86:24
  assign io_ifu_state_debug = state;	// src/main/scala/npc/ifu.scala:9:7, :77:22
endmodule

module IDU(	// src/main/scala/npc/idu.scala:35:7
  input         clock,	// src/main/scala/npc/idu.scala:35:7
                reset,	// src/main/scala/npc/idu.scala:35:7
  output        io_in_ready,	// src/main/scala/npc/idu.scala:36:16
  input         io_in_valid,	// src/main/scala/npc/idu.scala:36:16
  input  [31:0] io_in_bits_inst,	// src/main/scala/npc/idu.scala:36:16
                io_in_bits_pc,	// src/main/scala/npc/idu.scala:36:16
  input         io_out_ready,	// src/main/scala/npc/idu.scala:36:16
  output        io_out_valid,	// src/main/scala/npc/idu.scala:36:16
  output [31:0] io_out_bits_inst,	// src/main/scala/npc/idu.scala:36:16
                io_out_bits_pc,	// src/main/scala/npc/idu.scala:36:16
  output [4:0]  io_out_bits_wb_addr,	// src/main/scala/npc/idu.scala:36:16
  output [31:0] io_out_bits_alu_op1,	// src/main/scala/npc/idu.scala:36:16
                io_out_bits_alu_op2,	// src/main/scala/npc/idu.scala:36:16
                io_out_bits_rs2_data,	// src/main/scala/npc/idu.scala:36:16
                io_jump_reg_target,	// src/main/scala/npc/idu.scala:36:16
                io_br_target,	// src/main/scala/npc/idu.scala:36:16
                io_jmp_target,	// src/main/scala/npc/idu.scala:36:16
  output [2:0]  io_pc_sel,	// src/main/scala/npc/idu.scala:36:16
  input  [31:0] io_rs1_data,	// src/main/scala/npc/idu.scala:36:16
                io_rs2_data,	// src/main/scala/npc/idu.scala:36:16
  output [4:0]  io_rs1_addr,	// src/main/scala/npc/idu.scala:36:16
                io_rs2_addr	// src/main/scala/npc/idu.scala:36:16
);

  reg  [31:0]      idu_reg_inst;	// src/main/scala/npc/idu.scala:39:33
  reg  [31:0]      idu_reg_pc;	// src/main/scala/npc/idu.scala:40:31
  reg  [1:0]       state;	// src/main/scala/npc/idu.scala:48:24
  wire             _GEN = state == 2'h0;	// src/main/scala/npc/idu.scala:35:7, :48:24, :51:19
  wire             _GEN_0 = state == 2'h1;	// src/main/scala/npc/idu.scala:35:7, :48:24, :51:19
  wire             _GEN_1 = state == 2'h2;	// src/main/scala/npc/idu.scala:35:7, :48:24, :51:19
  wire             io_in_ready_0 = _GEN & io_in_valid;	// src/main/scala/npc/idu.scala:51:19, :54:27
  wire [19:0]      _imm_i_sext_T_1 = {20{idu_reg_inst[31]}};	// src/main/scala/npc/idu.scala:39:33, :81:29, :88:{30,39}
  wire             br_eq = io_rs1_data == io_rs2_data;	// src/main/scala/npc/idu.scala:104:29
  wire             br_lt = $signed(io_rs1_data) < $signed(io_rs2_data);	// src/main/scala/npc/idu.scala:105:36
  wire             br_ltu = io_rs1_data < io_rs2_data;	// src/main/scala/npc/idu.scala:106:37
  wire             _branch_taken_T_4 = idu_reg_inst[14:12] == 3'h0 & br_eq;	// src/main/scala/npc/idu.scala:39:33, :101:30, :104:29, :109:50
  wire [7:0]       _GEN_2 =
    {{~br_ltu},
     {br_ltu},
     {~br_lt},
     {br_lt},
     {_branch_taken_T_4},
     {_branch_taken_T_4},
     {~br_eq},
     {_branch_taken_T_4}};	// src/main/scala/npc/idu.scala:104:29, :105:36, :106:37, :109:50, :111:23, :113:23, :115:24
  wire             _alu_op2Sel_T_4 = idu_reg_inst[6:0] == 7'h67;	// src/main/scala/npc/idu.scala:39:33, :100:30, :119:41
  wire             _alu_op2Sel_T_6 = idu_reg_inst[6:0] == 7'h6F;	// src/main/scala/npc/idu.scala:39:33, :100:30, :119:41
  wire             _alu_op2Sel_T_8 = idu_reg_inst[6:0] == 7'h63;	// src/main/scala/npc/idu.scala:39:33, :100:30, :119:41
  wire             _alu_op2Sel_T_11 = idu_reg_inst[6:0] == 7'h3;	// src/main/scala/npc/idu.scala:39:33, :100:30, :129:41
  wire             _alu_op2Sel_T_12 = idu_reg_inst[6:0] == 7'h23;	// src/main/scala/npc/idu.scala:39:33, :100:30, :129:41
  wire             _alu_op2Sel_T_14 = idu_reg_inst[6:0] == 7'h33;	// src/main/scala/npc/idu.scala:39:33, :100:30, :129:41
  wire             _alu_op2Sel_T_16 = idu_reg_inst[6:0] == 7'h13;	// src/main/scala/npc/idu.scala:39:33, :100:30, :129:41
  wire [3:0][31:0] _GEN_3 =
    {{io_rs2_data},
     {{{20{idu_reg_inst[31]}}, idu_reg_inst[31:25], idu_reg_inst[11:7]}},
     {{_imm_i_sext_T_1, idu_reg_inst[31:20]}},
     {idu_reg_pc}};	// src/main/scala/npc/idu.scala:39:33, :40:31, :76:32, :81:29, :82:33, :88:{25,30}, :89:{25,30,39}, :159:45
  always @(posedge clock) begin	// src/main/scala/npc/idu.scala:35:7
    if (io_in_ready_0 & io_in_valid) begin	// src/main/scala/chisel3/util/Decoupled.scala:51:35, src/main/scala/npc/idu.scala:51:19, :54:27
      idu_reg_inst <= io_in_bits_inst;	// src/main/scala/npc/idu.scala:39:33
      idu_reg_pc <= io_in_bits_pc;	// src/main/scala/npc/idu.scala:40:31
    end
    if (reset)	// src/main/scala/npc/idu.scala:35:7
      state <= 2'h0;	// src/main/scala/npc/idu.scala:35:7, :48:24
    else if (_GEN) begin	// src/main/scala/npc/idu.scala:51:19
      if (io_in_valid)	// src/main/scala/npc/idu.scala:36:16
        state <= 2'h1;	// src/main/scala/npc/idu.scala:35:7, :48:24
    end
    else if (_GEN_0)	// src/main/scala/npc/idu.scala:51:19
      state <= 2'h2;	// src/main/scala/npc/idu.scala:35:7, :48:24
    else if (_GEN_1 & io_out_ready)	// src/main/scala/npc/idu.scala:48:24, :51:19, :69:30, :70:19
      state <= 2'h0;	// src/main/scala/npc/idu.scala:35:7, :48:24
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/npc/idu.scala:35:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/npc/idu.scala:35:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/npc/idu.scala:35:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// src/main/scala/npc/idu.scala:35:7
      automatic logic [31:0] _RANDOM[0:2];	// src/main/scala/npc/idu.scala:35:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/npc/idu.scala:35:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/npc/idu.scala:35:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/npc/idu.scala:35:7
        for (logic [1:0] i = 2'h0; i < 2'h3; i += 2'h1) begin
          _RANDOM[i] = `RANDOM;	// src/main/scala/npc/idu.scala:35:7
        end	// src/main/scala/npc/idu.scala:35:7
        idu_reg_inst = _RANDOM[2'h0];	// src/main/scala/npc/idu.scala:35:7, :39:33
        idu_reg_pc = _RANDOM[2'h1];	// src/main/scala/npc/idu.scala:35:7, :40:31
        state = _RANDOM[2'h2][1:0];	// src/main/scala/npc/idu.scala:35:7, :48:24
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/npc/idu.scala:35:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/npc/idu.scala:35:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  assign io_in_ready = io_in_ready_0;	// src/main/scala/npc/idu.scala:35:7, :51:19, :54:27
  assign io_out_valid = ~(_GEN | _GEN_0) & _GEN_1;	// src/main/scala/npc/idu.scala:35:7, :51:19, :53:22, :62:24
  assign io_out_bits_inst = idu_reg_inst;	// src/main/scala/npc/idu.scala:35:7, :39:33
  assign io_out_bits_pc = idu_reg_pc;	// src/main/scala/npc/idu.scala:35:7, :40:31
  assign io_out_bits_wb_addr = idu_reg_inst[11:7];	// src/main/scala/npc/idu.scala:35:7, :39:33, :76:32
  assign io_out_bits_alu_op1 =
    ~(_alu_op2Sel_T_16 | _alu_op2Sel_T_14 | _alu_op2Sel_T_12 | _alu_op2Sel_T_11
      | _alu_op2Sel_T_8 | _alu_op2Sel_T_6 | _alu_op2Sel_T_4)
    & (idu_reg_inst[6:0] == 7'h17 | idu_reg_inst[6:0] == 7'h37)
      ? {idu_reg_inst[31:12], 12'h0}
      : io_rs1_data;	// src/main/scala/npc/idu.scala:35:7, :39:33, :84:29, :91:{25,37}, :100:30, :119:41, :129:41, :154:45
  assign io_out_bits_alu_op2 =
    _GEN_3[_alu_op2Sel_T_16
             ? 2'h1
             : _alu_op2Sel_T_14
                 ? 2'h3
                 : _alu_op2Sel_T_12 ? 2'h2 : {1'h0, _alu_op2Sel_T_11}];	// src/main/scala/npc/idu.scala:35:7, :43:17, :129:41, :141:41, :159:45
  assign io_out_bits_rs2_data = io_rs2_data;	// src/main/scala/npc/idu.scala:35:7
  assign io_jump_reg_target =
    io_rs1_data + {_imm_i_sext_T_1, idu_reg_inst[31:20]} & 32'hFFFFFFFE;	// src/main/scala/npc/idu.scala:35:7, :39:33, :81:29, :88:30, :95:{47,68,70}
  assign io_br_target =
    idu_reg_pc
    + {{20{idu_reg_inst[31]}},
       idu_reg_inst[7],
       idu_reg_inst[30:25],
       idu_reg_inst[11:8],
       1'h0};	// src/main/scala/npc/idu.scala:35:7, :39:33, :40:31, :43:17, :83:{33,51,68,90}, :90:25, :96:32
  assign io_jmp_target =
    idu_reg_pc
    + {{12{idu_reg_inst[31]}},
       idu_reg_inst[19:12],
       idu_reg_inst[20],
       idu_reg_inst[30:21],
       1'h0};	// src/main/scala/npc/idu.scala:35:7, :39:33, :40:31, :43:17, :83:33, :85:{51,73,91}, :92:25, :97:33
  assign io_pc_sel =
    _alu_op2Sel_T_8
      ? {2'h0, _GEN_2[idu_reg_inst[14:12]]}
      : _alu_op2Sel_T_6 ? 3'h2 : _alu_op2Sel_T_4 ? 3'h3 : 3'h0;	// src/main/scala/npc/idu.scala:35:7, :39:33, :101:30, :109:50, :119:41, :122:29
  assign io_rs1_addr = idu_reg_inst[19:15];	// src/main/scala/npc/idu.scala:35:7, :39:33, :77:32
  assign io_rs2_addr = idu_reg_inst[24:20];	// src/main/scala/npc/idu.scala:35:7, :39:33, :78:32
endmodule

module ALU(	// src/main/scala/common/alu.scala:8:7
  input  [31:0] io_a,	// src/main/scala/common/alu.scala:9:14
                io_b,	// src/main/scala/common/alu.scala:9:14
  input  [4:0]  io_aluOp,	// src/main/scala/common/alu.scala:9:14
  output [31:0] io_result	// src/main/scala/common/alu.scala:9:14
);

  wire [62:0] _io_result_T_11 = {31'h0, io_a} << io_b[4:0];	// src/main/scala/common/alu.scala:16:23, :26:25
  wire [31:0] _GEN = {27'h0, io_b[4:0]};	// src/main/scala/common/alu.scala:16:23, :27:24
  assign io_result =
    io_aluOp == 5'hF
      ? io_a
      : io_aluOp == 5'h8
          ? $signed($signed(io_a) >>> _GEN)
          : io_aluOp == 5'h9
              ? io_a >> _GEN
              : io_aluOp == 5'h7
                  ? _io_result_T_11[31:0]
                  : io_aluOp == 5'h6
                      ? {31'h0, io_a < io_b}
                      : io_aluOp == 5'h5
                          ? {31'h0, $signed(io_a) < $signed(io_b)}
                          : io_aluOp == 5'h4
                              ? io_a ^ io_b
                              : io_aluOp == 5'h3
                                  ? io_a | io_b
                                  : io_aluOp == 5'h2
                                      ? io_a & io_b
                                      : io_aluOp == 5'h1
                                          ? io_a - io_b
                                          : io_aluOp == 5'h0 ? io_a + io_b : 32'h0;	// src/main/scala/common/alu.scala:8:7, :18:44, :19:24, :20:24, :21:24, :22:24, :23:24, :24:31, :25:24, :26:{25,38}, :27:24, :28:31
endmodule

module EXU(	// src/main/scala/npc/exu.scala:24:7
  input         clock,	// src/main/scala/npc/exu.scala:24:7
                reset,	// src/main/scala/npc/exu.scala:24:7
  output        io_in_ready,	// src/main/scala/npc/exu.scala:25:14
  input         io_in_valid,	// src/main/scala/npc/exu.scala:25:14
  input  [31:0] io_in_bits_inst,	// src/main/scala/npc/exu.scala:25:14
                io_in_bits_pc,	// src/main/scala/npc/exu.scala:25:14
  input  [4:0]  io_in_bits_wb_addr,	// src/main/scala/npc/exu.scala:25:14
  input  [31:0] io_in_bits_alu_op1,	// src/main/scala/npc/exu.scala:25:14
                io_in_bits_alu_op2,	// src/main/scala/npc/exu.scala:25:14
                io_in_bits_rs2_data,	// src/main/scala/npc/exu.scala:25:14
  input         io_out_ready,	// src/main/scala/npc/exu.scala:25:14
  output        io_out_valid,	// src/main/scala/npc/exu.scala:25:14
  output [31:0] io_out_bits_inst,	// src/main/scala/npc/exu.scala:25:14
                io_out_bits_pc,	// src/main/scala/npc/exu.scala:25:14
                io_out_bits_dmem_addr,	// src/main/scala/npc/exu.scala:25:14
                io_out_bits_result,	// src/main/scala/npc/exu.scala:25:14
                io_out_bits_rs2_data,	// src/main/scala/npc/exu.scala:25:14
  output [4:0]  io_out_bits_wb_addr	// src/main/scala/npc/exu.scala:25:14
);

  wire [31:0]     _alu_instance_io_result;	// src/main/scala/npc/exu.scala:115:28
  reg  [1:0]      state;	// src/main/scala/npc/exu.scala:29:22
  wire            _GEN = state == 2'h0;	// src/main/scala/npc/exu.scala:24:7, :29:22, :36:17
  wire            _GEN_0 = state == 2'h1;	// src/main/scala/npc/exu.scala:24:7, :29:22, :36:17
  wire            _GEN_1 = state == 2'h2;	// src/main/scala/npc/exu.scala:24:7, :29:22, :36:17
  wire            io_in_ready_0 = _GEN & io_in_valid;	// src/main/scala/npc/exu.scala:36:17, :38:25
  reg  [31:0]     exu_reg_inst;	// src/main/scala/npc/exu.scala:61:31
  reg  [31:0]     exu_reg_pc;	// src/main/scala/npc/exu.scala:62:29
  reg  [31:0]     exu_reg_rs2_data;	// src/main/scala/npc/exu.scala:63:35
  reg  [4:0]      exu_reg_wb_addr;	// src/main/scala/npc/exu.scala:64:34
  wire            _alu_op_T_24 = exu_reg_inst[31:25] == 7'h20;	// src/main/scala/npc/exu.scala:61:31, :69:28, :89:53
  wire [7:0][4:0] _GEN_2 =
    {{5'h2}, {5'h3}, {{4'h4, ~_alu_op_T_24}}, {5'h4}, {5'h6}, {5'h5}, {5'h7}, {5'h0}};	// src/main/scala/npc/exu.scala:83:47, :89:53
  wire [7:0][4:0] _GEN_3 =
    {{5'h2},
     {5'h3},
     {{4'h4, ~_alu_op_T_24}},
     {5'h4},
     {5'h6},
     {5'h5},
     {5'h7},
     {{4'h0, _alu_op_T_24}}};	// src/main/scala/npc/exu.scala:83:47, :89:53, :96:47, :97:51, :105:51
  always @(posedge clock) begin	// src/main/scala/npc/exu.scala:24:7
    if (reset)	// src/main/scala/npc/exu.scala:24:7
      state <= 2'h0;	// src/main/scala/npc/exu.scala:24:7, :29:22
    else if (_GEN) begin	// src/main/scala/npc/exu.scala:36:17
      if (io_in_valid)	// src/main/scala/npc/exu.scala:25:14
        state <= 2'h1;	// src/main/scala/npc/exu.scala:24:7, :29:22
    end
    else if (_GEN_0)	// src/main/scala/npc/exu.scala:36:17
      state <= 2'h2;	// src/main/scala/npc/exu.scala:24:7, :29:22
    else if (_GEN_1 & io_out_ready)	// src/main/scala/npc/exu.scala:29:22, :36:17, :54:26, :55:15
      state <= 2'h0;	// src/main/scala/npc/exu.scala:24:7, :29:22
    if (io_in_ready_0 & io_in_valid) begin	// src/main/scala/chisel3/util/Decoupled.scala:51:35, src/main/scala/npc/exu.scala:36:17, :38:25
      exu_reg_inst <= io_in_bits_inst;	// src/main/scala/npc/exu.scala:61:31
      exu_reg_pc <= io_in_bits_pc;	// src/main/scala/npc/exu.scala:62:29
      exu_reg_rs2_data <= io_in_bits_rs2_data;	// src/main/scala/npc/exu.scala:63:35
      exu_reg_wb_addr <= io_in_bits_wb_addr;	// src/main/scala/npc/exu.scala:64:34
    end
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/npc/exu.scala:24:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/npc/exu.scala:24:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/npc/exu.scala:24:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// src/main/scala/npc/exu.scala:24:7
      automatic logic [31:0] _RANDOM[0:3];	// src/main/scala/npc/exu.scala:24:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/npc/exu.scala:24:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/npc/exu.scala:24:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/npc/exu.scala:24:7
        for (logic [2:0] i = 3'h0; i < 3'h4; i += 3'h1) begin
          _RANDOM[i[1:0]] = `RANDOM;	// src/main/scala/npc/exu.scala:24:7
        end	// src/main/scala/npc/exu.scala:24:7
        state = _RANDOM[2'h0][1:0];	// src/main/scala/npc/exu.scala:24:7, :29:22
        exu_reg_inst = {_RANDOM[2'h0][31:2], _RANDOM[2'h1][1:0]};	// src/main/scala/npc/exu.scala:24:7, :29:22, :61:31
        exu_reg_pc = {_RANDOM[2'h1][31:2], _RANDOM[2'h2][1:0]};	// src/main/scala/npc/exu.scala:24:7, :61:31, :62:29
        exu_reg_rs2_data = {_RANDOM[2'h2][31:2], _RANDOM[2'h3][1:0]};	// src/main/scala/npc/exu.scala:24:7, :62:29, :63:35
        exu_reg_wb_addr = _RANDOM[2'h3][6:2];	// src/main/scala/npc/exu.scala:24:7, :63:35, :64:34
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/npc/exu.scala:24:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/npc/exu.scala:24:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  ALU alu_instance (	// src/main/scala/npc/exu.scala:115:28
    .io_a      (io_in_bits_alu_op1),
    .io_b      (io_in_bits_alu_op2),
    .io_aluOp
      (exu_reg_inst[6:0] == 7'h33
         ? _GEN_3[exu_reg_inst[14:12]]
         : exu_reg_inst[6:0] == 7'h13
             ? _GEN_2[exu_reg_inst[14:12]]
             : exu_reg_inst[6:0] == 7'h23 | exu_reg_inst[6:0] == 7'h3
               | exu_reg_inst[6:0] == 7'h17 | exu_reg_inst[6:0] != 7'h37
                 ? 5'h0
                 : 5'hF),	// src/main/scala/npc/exu.scala:61:31, :67:28, :68:28, :78:35, :83:47, :96:47
    .io_result (_alu_instance_io_result)
  );
  assign io_in_ready = io_in_ready_0;	// src/main/scala/npc/exu.scala:24:7, :36:17, :38:25
  assign io_out_valid = ~(_GEN | _GEN_0) & _GEN_1;	// src/main/scala/npc/exu.scala:24:7, :36:17, :38:25, :47:20
  assign io_out_bits_inst = exu_reg_inst;	// src/main/scala/npc/exu.scala:24:7, :61:31
  assign io_out_bits_pc = exu_reg_pc;	// src/main/scala/npc/exu.scala:24:7, :62:29
  assign io_out_bits_dmem_addr = _alu_instance_io_result;	// src/main/scala/npc/exu.scala:24:7, :115:28
  assign io_out_bits_result = _alu_instance_io_result;	// src/main/scala/npc/exu.scala:24:7, :115:28
  assign io_out_bits_rs2_data = exu_reg_rs2_data;	// src/main/scala/npc/exu.scala:24:7, :63:35
  assign io_out_bits_wb_addr = exu_reg_wb_addr;	// src/main/scala/npc/exu.scala:24:7, :64:34
endmodule

module AlignmentNetwork(	// src/main/scala/common/AlignmentNetwork.scala:8:7
  input  [31:0] io_data_in,	// src/main/scala/common/AlignmentNetwork.scala:9:14
                io_dmem_addr,	// src/main/scala/common/AlignmentNetwork.scala:9:14
  input  [2:0]  io_control,	// src/main/scala/common/AlignmentNetwork.scala:9:14
  output [31:0] io_data_out	// src/main/scala/common/AlignmentNetwork.scala:9:14
);

  wire [2:0]       rw_address_type =
    (|(io_dmem_addr[31:28])) & io_dmem_addr < 32'h10001000
      ? 3'h0
      : io_dmem_addr > 32'hEFFFFFF & io_dmem_addr < 32'h10000000
          ? 3'h1
          : io_dmem_addr > 32'h2FFFFFFF & io_dmem_addr < 32'h40000000
              ? 3'h2
              : io_dmem_addr > 32'h10000FFF & io_dmem_addr < 32'h10002000
                  ? 3'h3
                  : io_dmem_addr[31] & io_dmem_addr < 32'hA0000000
                      ? 3'h4
                      : io_dmem_addr > 32'h9FFFFFFF & io_dmem_addr[31:30] != 2'h3
                          ? 3'h5
                          : 3'h6;	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/AlignmentNetwork.scala:26:{20,39,56}, :27:{20,34,51}, :28:{20,35,52}, :29:{20,33,50}, :30:{20,35,52}, :31:{20,35,52}
  wire [31:0]      shifted_data = io_data_in >> {27'h0, io_dmem_addr[1:0], 3'h0};	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/AlignmentNetwork.scala:35:34, :36:33
  wire [7:0][31:0] _GEN =
    {{32'h0},
     {32'h0},
     {{16'h0, shifted_data[15:0]}},
     {{24'h0, shifted_data[7:0]}},
     {32'h0},
     {io_data_in},
     {{{16{shifted_data[15]}}, shifted_data[15:0]}},
     {{{24{shifted_data[7]}}, shifted_data[7:0]}}};	// src/main/scala/common/AlignmentNetwork.scala:36:33, :39:{26,50}, :40:{26,50}, :41:{26,31,48}, :42:{26,31,48}, :44:52
  assign io_data_out =
    rw_address_type == 3'h5 | rw_address_type == 3'h4 | rw_address_type == 3'h3
    | rw_address_type == 3'h1 | (|rw_address_type)
      ? _GEN[io_control]
      : io_data_in;	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/AlignmentNetwork.scala:8:7, :44:52, :53:62
endmodule

module MemoryController(	// src/main/scala/common/MemoryController.scala:8:7
  input  [31:0] io_dmem_addr,	// src/main/scala/common/MemoryController.scala:9:14
                io_dmem_wdata_raw,	// src/main/scala/common/MemoryController.scala:9:14
  input  [2:0]  io_control,	// src/main/scala/common/MemoryController.scala:9:14
  output [7:0]  io_wmask,	// src/main/scala/common/MemoryController.scala:9:14
  output [31:0] io_dmem_wdata,	// src/main/scala/common/MemoryController.scala:9:14
  output [2:0]  io_dmem_rw_size	// src/main/scala/common/MemoryController.scala:9:14
);

  wire             _io_dmem_rw_size_T_16 = io_control == 3'h1;	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:19:45
  wire             _io_dmem_rw_size_T_12 = io_control == 3'h0;	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:19:45
  wire [2:0]       rw_address_type =
    (|(io_dmem_addr[31:28])) & io_dmem_addr < 32'h10001000
      ? 3'h0
      : io_dmem_addr > 32'hEFFFFFF & io_dmem_addr < 32'h10000000
          ? 3'h1
          : io_dmem_addr > 32'h2FFFFFFF & io_dmem_addr < 32'h40000000
              ? 3'h2
              : io_dmem_addr > 32'h10000FFF & io_dmem_addr < 32'h10002000
                  ? 3'h3
                  : io_dmem_addr[31] & io_dmem_addr < 32'hA0000000
                      ? 3'h4
                      : io_dmem_addr > 32'h9FFFFFFF & io_dmem_addr[31:30] != 2'h3
                          ? 3'h5
                          : 3'h6;	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:30:{20,39,56}, :31:{20,34,51}, :32:{20,35,52}, :33:{20,33,50}, :34:{20,35,52}, :35:{20,35,52}
  wire [14:0]      _GEN =
    {7'h0,
     _io_dmem_rw_size_T_12
       ? 8'h1
       : _io_dmem_rw_size_T_16 ? 8'h3 : io_control == 3'h2 ? 8'hF : 8'h0};	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:19:45, :43:29
  wire [14:0]      _GEN_0 = {13'h0, io_dmem_addr[1:0]};	// src/main/scala/common/MemoryController.scala:26:34, :43:29
  wire [14:0]      _io_wmask_T_1 = _GEN << _GEN_0;	// src/main/scala/common/MemoryController.scala:43:29
  wire [14:0]      _io_wmask_T_3 = _GEN << _GEN_0;	// src/main/scala/common/MemoryController.scala:43:29, :45:28
  wire [14:0]      _io_wmask_T_5 = _GEN << _GEN_0;	// src/main/scala/common/MemoryController.scala:43:29, :47:30
  wire [14:0]      _io_wmask_T_7 = _GEN << _GEN_0;	// src/main/scala/common/MemoryController.scala:43:29, :49:30
  wire             _io_dmem_rw_size_T_22 = rw_address_type == 3'h1;	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:39:51
  wire             _io_dmem_rw_size_T_26 = rw_address_type == 3'h3;	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:39:51
  wire [94:0]      _GEN_1 = {63'h0, io_dmem_wdata_raw};	// src/main/scala/common/MemoryController.scala:52:65
  wire [94:0]      _GEN_2 = {90'h0, io_dmem_addr[1:0], 3'h0};	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:26:34, :52:65
  wire [94:0]      _io_dmem_wdata_T_1 = _GEN_1 << _GEN_2;	// src/main/scala/common/MemoryController.scala:52:65
  wire [7:0][94:0] _GEN_3 =
    {{_io_dmem_wdata_T_1},
     {_io_dmem_wdata_T_1},
     {_GEN_1 << _GEN_2},
     {_GEN_1 << _GEN_2},
     {_GEN_1 << _GEN_2},
     {_io_dmem_wdata_T_1},
     {_GEN_1 << _GEN_2},
     {_GEN_1}};	// src/main/scala/common/MemoryController.scala:39:51, :52:{65,89}, :56:37, :58:36, :60:38, :62:38
  wire             _GEN_4 = io_control == 3'h4 | _io_dmem_rw_size_T_12;	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:19:45, :67:49
  wire             _GEN_5 = io_control == 3'h5 | _io_dmem_rw_size_T_16;	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:19:45, :67:49
  wire [2:0]       _io_dmem_rw_size_T_27 =
    _io_dmem_rw_size_T_26 | rw_address_type == 3'h2 | _io_dmem_rw_size_T_22
    | (|rw_address_type)
      ? 3'h2
      : _GEN_5 ? 3'h1 : {1'h0, ~_GEN_4, 1'h0};	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:39:51, :65:58, :67:49
  wire [7:0][2:0]  _GEN_6 =
    {{_io_dmem_rw_size_T_27},
     {_io_dmem_rw_size_T_27},
     {3'h2},
     {_GEN_5 ? 3'h1 : {1'h0, ~_GEN_4, 1'h0}},
     {3'h2},
     {3'h2},
     {3'h2},
     {_io_dmem_rw_size_T_27}};	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:39:51, :65:58, :67:49, :81:50
  assign io_wmask =
    rw_address_type == 3'h5
      ? _io_wmask_T_7[7:0]
      : rw_address_type == 3'h4
          ? _io_wmask_T_5[7:0]
          : _io_dmem_rw_size_T_26
              ? _io_wmask_T_3[7:0]
              : _io_dmem_rw_size_T_22 ? _io_wmask_T_1[7:0] : 8'h1;	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:8:7, :19:45, :39:51, :43:29, :45:28, :47:30, :49:30
  assign io_dmem_wdata = _GEN_3[rw_address_type][31:0];	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:8:7, :39:51, :52:{17,89}
  assign io_dmem_rw_size = _GEN_6[rw_address_type];	// src/main/scala/chisel3/util/Mux.scala:126:16, src/main/scala/common/MemoryController.scala:8:7, :39:51, :65:58
endmodule

module LSU(	// src/main/scala/npc/lsu.scala:42:7
  input         clock,	// src/main/scala/npc/lsu.scala:42:7
                reset,	// src/main/scala/npc/lsu.scala:42:7
  output        io_in_ready,	// src/main/scala/npc/lsu.scala:43:14
  input         io_in_valid,	// src/main/scala/npc/lsu.scala:43:14
  input  [31:0] io_in_bits_inst,	// src/main/scala/npc/lsu.scala:43:14
                io_in_bits_pc,	// src/main/scala/npc/lsu.scala:43:14
                io_in_bits_dmem_addr,	// src/main/scala/npc/lsu.scala:43:14
                io_in_bits_result,	// src/main/scala/npc/lsu.scala:43:14
                io_in_bits_rs2_data,	// src/main/scala/npc/lsu.scala:43:14
  input  [4:0]  io_in_bits_wb_addr,	// src/main/scala/npc/lsu.scala:43:14
  input         io_out_ready,	// src/main/scala/npc/lsu.scala:43:14
  output        io_out_valid,	// src/main/scala/npc/lsu.scala:43:14
  output [31:0] io_out_bits_inst,	// src/main/scala/npc/lsu.scala:43:14
                io_out_bits_pc,	// src/main/scala/npc/lsu.scala:43:14
                io_out_bits_dmem_rdata,	// src/main/scala/npc/lsu.scala:43:14
                io_out_bits_result,	// src/main/scala/npc/lsu.scala:43:14
  output [4:0]  io_out_bits_wb_addr,	// src/main/scala/npc/lsu.scala:43:14
  output        io_lsu_axi_resp_err,	// src/main/scala/npc/lsu.scala:43:14
  output [31:0] io_memory_aw_addr,	// src/main/scala/npc/lsu.scala:43:14
  output [2:0]  io_memory_aw_size,	// src/main/scala/npc/lsu.scala:43:14
  output        io_memory_aw_valid,	// src/main/scala/npc/lsu.scala:43:14
  input         io_memory_aw_ready,	// src/main/scala/npc/lsu.scala:43:14
  output [31:0] io_memory_w_data,	// src/main/scala/npc/lsu.scala:43:14
  output [3:0]  io_memory_w_strb,	// src/main/scala/npc/lsu.scala:43:14
  output        io_memory_w_last,	// src/main/scala/npc/lsu.scala:43:14
                io_memory_w_valid,	// src/main/scala/npc/lsu.scala:43:14
  input         io_memory_w_ready,	// src/main/scala/npc/lsu.scala:43:14
  input  [1:0]  io_memory_b_resp,	// src/main/scala/npc/lsu.scala:43:14
  input         io_memory_b_valid,	// src/main/scala/npc/lsu.scala:43:14
  output        io_memory_b_ready,	// src/main/scala/npc/lsu.scala:43:14
  output [31:0] io_memory_ar_addr,	// src/main/scala/npc/lsu.scala:43:14
  output [2:0]  io_memory_ar_size,	// src/main/scala/npc/lsu.scala:43:14
  output        io_memory_ar_valid,	// src/main/scala/npc/lsu.scala:43:14
  input         io_memory_ar_ready,	// src/main/scala/npc/lsu.scala:43:14
  input  [31:0] io_memory_r_data,	// src/main/scala/npc/lsu.scala:43:14
  input  [1:0]  io_memory_r_resp,	// src/main/scala/npc/lsu.scala:43:14
  input         io_memory_r_valid,	// src/main/scala/npc/lsu.scala:43:14
  output        io_memory_r_ready,	// src/main/scala/npc/lsu.scala:43:14
                io_arbiter_valid,	// src/main/scala/npc/lsu.scala:43:14
  input         io_arbiter_ready,	// src/main/scala/npc/lsu.scala:43:14
  output [2:0]  io_lsu_state_debug,	// src/main/scala/npc/lsu.scala:43:14
  output        io_lsu_is_ld_or_st_debug,	// src/main/scala/npc/lsu.scala:43:14
  output [31:0] io_lsu_reg_inst_debug,	// src/main/scala/npc/lsu.scala:43:14
                io_dmem_wdata_debug,	// src/main/scala/npc/lsu.scala:43:14
                io_dmem_rdata_debug,	// src/main/scala/npc/lsu.scala:43:14
                io_lsu_reg_dmem_addr_debug	// src/main/scala/npc/lsu.scala:43:14
);

  wire        isStore;	// src/main/scala/npc/lsu.scala:66:25, :102:17, :111:15
  wire        isLoad;	// src/main/scala/npc/lsu.scala:65:25, :102:17, :110:14
  wire [7:0]  _memory_ctl_io_wmask;	// src/main/scala/npc/lsu.scala:92:26
  wire [31:0] _memory_ctl_io_dmem_wdata;	// src/main/scala/npc/lsu.scala:92:26
  wire [2:0]  _memory_ctl_io_dmem_rw_size;	// src/main/scala/npc/lsu.scala:92:26
  wire [31:0] _alignment_network_io_data_out;	// src/main/scala/npc/lsu.scala:82:33
  reg  [31:0] lsu_reg_inst;	// src/main/scala/npc/lsu.scala:55:31
  reg  [31:0] lsu_reg_pc;	// src/main/scala/npc/lsu.scala:56:29
  reg  [31:0] lsu_reg_dmem_addr;	// src/main/scala/npc/lsu.scala:57:36
  reg  [31:0] lsu_reg_result;	// src/main/scala/npc/lsu.scala:58:33
  reg  [31:0] lsu_reg_rs2_data;	// src/main/scala/npc/lsu.scala:59:35
  reg  [4:0]  lsu_reg_wb_addr;	// src/main/scala/npc/lsu.scala:60:34
  wire [9:0]  _mem_access_control_T = {lsu_reg_inst[6:0], lsu_reg_inst[14:12]};	// src/main/scala/npc/lsu.scala:55:31, :63:28, :64:28, :70:38
  wire [2:0]  mem_access_control =
    _mem_access_control_T == 10'h119
      ? 3'h1
      : _mem_access_control_T == 10'h118
          ? 3'h0
          : _mem_access_control_T == 10'h11A
              ? 3'h2
              : _mem_access_control_T == 10'h1D
                  ? 3'h5
                  : _mem_access_control_T == 10'h19
                      ? 3'h1
                      : _mem_access_control_T == 10'h1C
                          ? 3'h4
                          : {1'h0,
                             _mem_access_control_T == 10'h18
                               ? 2'h0
                               : {_mem_access_control_T == 10'h1A, 1'h0}};	// src/main/scala/common/axi4.scala:73:18, src/main/scala/npc/lsu.scala:42:7, :70:{38,60}, :71:8, :72:8, :73:8, :74:8, :75:8, :76:8, :77:8, :78:8
  reg  [31:0] delayedData;	// src/main/scala/npc/lsu.scala:87:28
  reg  [2:0]  state;	// src/main/scala/npc/lsu.scala:99:22
  wire        _GEN = state == 3'h0;	// src/main/scala/npc/lsu.scala:42:7, :99:22, :102:17
  wire        _GEN_0 = state == 3'h1;	// src/main/scala/npc/lsu.scala:42:7, :99:22, :102:17
  wire        _GEN_1 = state == 3'h2;	// src/main/scala/npc/lsu.scala:42:7, :99:22, :102:17
  wire        _GEN_2 = ~isLoad & isStore;	// src/main/scala/common/axi4.scala:73:18, src/main/scala/npc/lsu.scala:65:25, :66:25, :102:17, :110:14, :111:15, :154:22, :166:30
  wire        _GEN_3 = _GEN | _GEN_0;	// src/main/scala/common/axi4.scala:82:16, src/main/scala/npc/lsu.scala:102:17
  wire        _GEN_4 = _GEN_3 | ~_GEN_1 | isLoad | ~isStore;	// src/main/scala/common/axi4.scala:74:17, :82:16, src/main/scala/npc/lsu.scala:65:25, :66:25, :102:17, :110:14, :111:15, :154:22, :166:30
  wire        _GEN_5 = state == 3'h3;	// src/main/scala/npc/lsu.scala:42:7, :99:22, :102:17
  wire        _GEN_6 = _GEN_1 | _GEN_5;	// src/main/scala/common/axi4.scala:91:17, src/main/scala/npc/lsu.scala:102:17, :154:22, :157:29, :196:20, :198:27
  wire        _GEN_7 = _GEN_3 | ~(_GEN_6 & isLoad);	// src/main/scala/common/axi4.scala:82:16, :91:17, src/main/scala/npc/lsu.scala:65:25, :102:17, :110:14, :154:22, :157:29, :196:20, :198:27
  wire        _GEN_8 = _GEN_3 | ~_GEN_1 & ~_GEN_5 | isLoad | ~isStore;	// src/main/scala/common/axi4.scala:74:17, :82:16, src/main/scala/npc/lsu.scala:65:25, :66:25, :102:17, :110:14, :111:15, :154:22, :166:30, :196:20
  wire        _GEN_9 = isStore & io_memory_b_valid;	// src/main/scala/npc/lsu.scala:52:23, :66:25, :102:17, :111:15, :217:27, :230:33, :231:33
  wire        _GEN_10 = _GEN_0 | _GEN_1;	// src/main/scala/npc/lsu.scala:52:23, :102:17
  wire        _GEN_11 = _GEN | _GEN_10;	// src/main/scala/npc/lsu.scala:52:23, :102:17
  wire        _GEN_12 = state == 3'h4;	// src/main/scala/npc/lsu.scala:42:7, :99:22, :102:17
  wire        io_in_ready_0 = _GEN & io_in_valid;	// src/main/scala/npc/lsu.scala:102:17, :129:25
  assign isLoad =
    ~_GEN_3 & (_GEN_1 ? lsu_reg_inst[6:0] == 7'h3 : _GEN_5 & lsu_reg_inst[6:0] == 7'h3);	// src/main/scala/common/axi4.scala:82:16, src/main/scala/npc/lsu.scala:55:31, :63:28, :65:25, :71:8, :102:17, :110:14, :151:{16,26}, :193:{14,24}
  assign isStore =
    ~_GEN_3 & (_GEN_1 ? lsu_reg_inst[6:0] == 7'h23 : _GEN_5 & lsu_reg_inst[6:0] == 7'h23);	// src/main/scala/common/axi4.scala:82:16, src/main/scala/npc/lsu.scala:55:31, :63:28, :65:25, :66:25, :76:8, :102:17, :110:14, :111:15, :152:{17,27}, :194:{15,25}
  wire        io_memory_w_valid_0 = ~_GEN_3 & _GEN_1 & _GEN_2;	// src/main/scala/common/axi4.scala:73:18, :82:16, src/main/scala/npc/lsu.scala:65:25, :102:17, :110:14, :120:26, :154:22, :166:30
  always @(posedge clock) begin	// src/main/scala/npc/lsu.scala:42:7
    if (io_in_ready_0 & io_in_valid) begin	// src/main/scala/chisel3/util/Decoupled.scala:51:35, src/main/scala/npc/lsu.scala:102:17, :129:25
      lsu_reg_inst <= io_in_bits_inst;	// src/main/scala/npc/lsu.scala:55:31
      lsu_reg_pc <= io_in_bits_pc;	// src/main/scala/npc/lsu.scala:56:29
      lsu_reg_dmem_addr <= io_in_bits_dmem_addr;	// src/main/scala/npc/lsu.scala:57:36
      lsu_reg_result <= io_in_bits_result;	// src/main/scala/npc/lsu.scala:58:33
      lsu_reg_rs2_data <= io_in_bits_rs2_data;	// src/main/scala/npc/lsu.scala:59:35
      lsu_reg_wb_addr <= io_in_bits_wb_addr;	// src/main/scala/npc/lsu.scala:60:34
    end
    if (reset) begin	// src/main/scala/npc/lsu.scala:42:7
      delayedData <= 32'h0;	// src/main/scala/npc/lsu.scala:87:28
      state <= 3'h0;	// src/main/scala/npc/lsu.scala:42:7, :99:22
    end
    else begin	// src/main/scala/npc/lsu.scala:42:7
      delayedData <= _alignment_network_io_data_out;	// src/main/scala/npc/lsu.scala:82:33, :87:28
      if (_GEN) begin	// src/main/scala/npc/lsu.scala:102:17
        if (io_in_valid)	// src/main/scala/npc/lsu.scala:43:14
          state <= 3'h1;	// src/main/scala/npc/lsu.scala:42:7, :99:22
      end
      else if (_GEN_0) begin	// src/main/scala/npc/lsu.scala:102:17
        if (io_arbiter_ready)	// src/main/scala/npc/lsu.scala:43:14
          state <= 3'h2;	// src/main/scala/npc/lsu.scala:42:7, :99:22
      end
      else if (_GEN_1) begin	// src/main/scala/npc/lsu.scala:102:17
        if (isLoad) begin	// src/main/scala/npc/lsu.scala:65:25, :102:17, :110:14
          if (io_memory_ar_ready)	// src/main/scala/npc/lsu.scala:43:14
            state <= 3'h3;	// src/main/scala/npc/lsu.scala:42:7, :99:22
        end
        else if (isStore) begin	// src/main/scala/npc/lsu.scala:66:25, :102:17, :111:15
          if (io_memory_aw_ready & io_memory_w_ready)	// src/main/scala/npc/lsu.scala:178:35
            state <= 3'h3;	// src/main/scala/npc/lsu.scala:42:7, :99:22
        end
        else	// src/main/scala/npc/lsu.scala:66:25, :102:17, :111:15
          state <= 3'h4;	// src/main/scala/npc/lsu.scala:42:7, :99:22
      end
      else if (_GEN_5) begin	// src/main/scala/npc/lsu.scala:102:17
        if (isLoad ? io_memory_r_valid : _GEN_9)	// src/main/scala/npc/lsu.scala:52:23, :65:25, :99:22, :102:17, :110:14, :196:20, :207:33, :214:17, :217:27, :230:33, :231:33, :237:17
          state <= 3'h4;	// src/main/scala/npc/lsu.scala:42:7, :99:22
      end
      else if (_GEN_12 & io_out_ready)	// src/main/scala/npc/lsu.scala:99:22, :102:17, :267:26, :268:15
        state <= 3'h0;	// src/main/scala/npc/lsu.scala:42:7, :99:22
    end
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/npc/lsu.scala:42:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/npc/lsu.scala:42:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/npc/lsu.scala:42:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// src/main/scala/npc/lsu.scala:42:7
      automatic logic [31:0] _RANDOM[0:6];	// src/main/scala/npc/lsu.scala:42:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/npc/lsu.scala:42:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/npc/lsu.scala:42:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/npc/lsu.scala:42:7
        for (logic [2:0] i = 3'h0; i < 3'h7; i += 3'h1) begin
          _RANDOM[i] = `RANDOM;	// src/main/scala/npc/lsu.scala:42:7
        end	// src/main/scala/npc/lsu.scala:42:7
        lsu_reg_inst = _RANDOM[3'h0];	// src/main/scala/npc/lsu.scala:42:7, :55:31
        lsu_reg_pc = _RANDOM[3'h1];	// src/main/scala/npc/lsu.scala:42:7, :56:29
        lsu_reg_dmem_addr = _RANDOM[3'h2];	// src/main/scala/npc/lsu.scala:42:7, :57:36
        lsu_reg_result = _RANDOM[3'h3];	// src/main/scala/npc/lsu.scala:42:7, :58:33
        lsu_reg_rs2_data = _RANDOM[3'h4];	// src/main/scala/npc/lsu.scala:42:7, :59:35
        lsu_reg_wb_addr = _RANDOM[3'h5][4:0];	// src/main/scala/npc/lsu.scala:42:7, :60:34
        delayedData = {_RANDOM[3'h5][31:5], _RANDOM[3'h6][4:0]};	// src/main/scala/npc/lsu.scala:42:7, :60:34, :87:28
        state = _RANDOM[3'h6][7:5];	// src/main/scala/npc/lsu.scala:42:7, :87:28, :99:22
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/npc/lsu.scala:42:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/npc/lsu.scala:42:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  AlignmentNetwork alignment_network (	// src/main/scala/npc/lsu.scala:82:33
    .io_data_in   (io_memory_r_data),
    .io_dmem_addr (lsu_reg_dmem_addr),	// src/main/scala/npc/lsu.scala:57:36
    .io_control   (mem_access_control),	// src/main/scala/npc/lsu.scala:70:60
    .io_data_out  (_alignment_network_io_data_out)
  );
  MemoryController memory_ctl (	// src/main/scala/npc/lsu.scala:92:26
    .io_dmem_addr      (lsu_reg_dmem_addr),	// src/main/scala/npc/lsu.scala:57:36
    .io_dmem_wdata_raw (lsu_reg_rs2_data),	// src/main/scala/npc/lsu.scala:59:35
    .io_control        (mem_access_control),	// src/main/scala/npc/lsu.scala:70:60
    .io_wmask          (_memory_ctl_io_wmask),
    .io_dmem_wdata     (_memory_ctl_io_dmem_wdata),
    .io_dmem_rw_size   (_memory_ctl_io_dmem_rw_size)
  );
  assign io_in_ready = io_in_ready_0;	// src/main/scala/npc/lsu.scala:42:7, :102:17, :129:25
  assign io_out_valid = ~(_GEN | _GEN_0 | _GEN_1 | _GEN_5) & _GEN_12;	// src/main/scala/npc/lsu.scala:42:7, :50:16, :102:17, :108:20, :149:22, :191:20
  assign io_out_bits_inst = lsu_reg_inst;	// src/main/scala/npc/lsu.scala:42:7, :55:31
  assign io_out_bits_pc = lsu_reg_pc;	// src/main/scala/npc/lsu.scala:42:7, :56:29
  assign io_out_bits_dmem_rdata = delayedData;	// src/main/scala/npc/lsu.scala:42:7, :87:28
  assign io_out_bits_result = lsu_reg_result;	// src/main/scala/npc/lsu.scala:42:7, :58:33
  assign io_out_bits_wb_addr = lsu_reg_wb_addr;	// src/main/scala/npc/lsu.scala:42:7, :60:34
  assign io_lsu_axi_resp_err =
    ~_GEN_11 & _GEN_5
    & (isLoad
         ? io_memory_r_valid & ((&io_memory_r_resp) | io_memory_r_resp == 2'h2)
         : _GEN_9 & ((&io_memory_b_resp) | io_memory_b_resp == 2'h2));	// src/main/scala/common/axi4.scala:76:17, src/main/scala/npc/lsu.scala:42:7, :52:23, :65:25, :102:17, :110:14, :196:20, :207:33, :208:{31,70}, :217:27, :230:33, :231:{33,72}
  assign io_memory_aw_addr = _GEN_8 ? 32'h0 : lsu_reg_dmem_addr;	// src/main/scala/common/axi4.scala:74:17, src/main/scala/npc/lsu.scala:42:7, :57:36, :87:28, :102:17
  assign io_memory_aw_size = _GEN_8 ? 3'h2 : _memory_ctl_io_dmem_rw_size;	// src/main/scala/common/axi4.scala:74:17, :76:17, src/main/scala/npc/lsu.scala:42:7, :92:26, :102:17, :124:25
  assign io_memory_aw_valid = io_memory_w_valid_0;	// src/main/scala/common/axi4.scala:73:18, src/main/scala/npc/lsu.scala:42:7, :102:17, :120:26
  assign io_memory_w_data = _GEN_4 ? 32'h0 : _memory_ctl_io_dmem_wdata;	// src/main/scala/common/axi4.scala:82:16, src/main/scala/npc/lsu.scala:42:7, :87:28, :92:26, :102:17
  assign io_memory_w_strb = _GEN_4 ? 4'h0 : _memory_ctl_io_wmask[3:0];	// src/main/scala/common/axi4.scala:78:15, :82:16, :83:16, src/main/scala/npc/lsu.scala:42:7, :92:26, :102:17, :172:28
  assign io_memory_w_last = _GEN | ~_GEN_0 & (_GEN_6 ? _GEN_2 : _GEN_12);	// src/main/scala/common/axi4.scala:73:18, :84:16, :91:17, src/main/scala/npc/lsu.scala:42:7, :102:17, :127:24, :154:22, :157:29, :166:30, :196:20, :198:27
  assign io_memory_w_valid = io_memory_w_valid_0;	// src/main/scala/common/axi4.scala:73:18, src/main/scala/npc/lsu.scala:42:7, :102:17, :120:26
  assign io_memory_b_ready = ~_GEN_11 & _GEN_5 & _GEN_2;	// src/main/scala/common/axi4.scala:73:18, :87:17, src/main/scala/npc/lsu.scala:42:7, :52:23, :102:17, :122:25, :154:22, :166:30
  assign io_memory_ar_addr = _GEN_7 ? 32'h0 : lsu_reg_dmem_addr;	// src/main/scala/common/axi4.scala:91:17, src/main/scala/npc/lsu.scala:42:7, :57:36, :87:28, :102:17
  assign io_memory_ar_size = _GEN_7 ? 3'h2 : _memory_ctl_io_dmem_rw_size;	// src/main/scala/common/axi4.scala:91:17, :93:17, src/main/scala/npc/lsu.scala:42:7, :92:26, :102:17, :116:25
  assign io_memory_ar_valid = ~_GEN_3 & _GEN_1 & isLoad;	// src/main/scala/common/axi4.scala:82:16, :90:18, src/main/scala/npc/lsu.scala:42:7, :65:25, :102:17, :110:14, :113:26
  assign io_memory_r_ready = ~_GEN_11 & _GEN_5 & isLoad;	// src/main/scala/common/axi4.scala:98:17, src/main/scala/npc/lsu.scala:42:7, :52:23, :65:25, :102:17, :110:14, :114:25
  assign io_arbiter_valid = ~_GEN & (_GEN_10 | _GEN_5);	// src/main/scala/npc/lsu.scala:42:7, :52:23, :102:17, :105:24, :137:24, :146:26
  assign io_lsu_state_debug = state;	// src/main/scala/npc/lsu.scala:42:7, :99:22
  assign io_lsu_is_ld_or_st_debug = isLoad | isStore;	// src/main/scala/npc/lsu.scala:42:7, :65:25, :66:25, :102:17, :110:14, :111:15, :281:38
  assign io_lsu_reg_inst_debug = lsu_reg_inst;	// src/main/scala/npc/lsu.scala:42:7, :55:31
  assign io_dmem_wdata_debug = _memory_ctl_io_dmem_wdata;	// src/main/scala/npc/lsu.scala:42:7, :92:26
  assign io_dmem_rdata_debug = io_memory_r_data;	// src/main/scala/npc/lsu.scala:42:7
  assign io_lsu_reg_dmem_addr_debug = lsu_reg_dmem_addr;	// src/main/scala/npc/lsu.scala:42:7, :57:36
endmodule

module WBU(	// src/main/scala/npc/wbu.scala:29:7
  input         clock,	// src/main/scala/npc/wbu.scala:29:7
                reset,	// src/main/scala/npc/wbu.scala:29:7
  output        io_in_ready,	// src/main/scala/npc/wbu.scala:30:14
  input         io_in_valid,	// src/main/scala/npc/wbu.scala:30:14
  input  [31:0] io_in_bits_inst,	// src/main/scala/npc/wbu.scala:30:14
                io_in_bits_pc,	// src/main/scala/npc/wbu.scala:30:14
                io_in_bits_dmem_rdata,	// src/main/scala/npc/wbu.scala:30:14
                io_in_bits_result,	// src/main/scala/npc/wbu.scala:30:14
  input  [4:0]  io_in_bits_wb_addr,	// src/main/scala/npc/wbu.scala:30:14
  output [31:0] io_wb_data,	// src/main/scala/npc/wbu.scala:30:14
  output [4:0]  io_wb_addr,	// src/main/scala/npc/wbu.scala:30:14
  output        io_wb_wen,	// src/main/scala/npc/wbu.scala:30:14
                io_pc_wen,	// src/main/scala/npc/wbu.scala:30:14
  output [1:0]  io_wbu_state_debug,	// src/main/scala/npc/wbu.scala:30:14
  output [31:0] io_wb_data_debug,	// src/main/scala/npc/wbu.scala:30:14
  output        io_wb_wen_debug,	// src/main/scala/npc/wbu.scala:30:14
  output [1:0]  io_wb_sel_debug,	// src/main/scala/npc/wbu.scala:30:14
  output [31:0] io_wbu_reg_dmem_rdata_debug	// src/main/scala/npc/wbu.scala:30:14
);

  reg  [1:0]       state;	// src/main/scala/npc/wbu.scala:41:22
  wire             io_in_ready_0 = state == 2'h0 & io_in_valid;	// src/main/scala/npc/wbu.scala:41:22, :44:17, :47:25
  reg  [31:0]      wbu_reg_inst;	// src/main/scala/npc/wbu.scala:65:31
  reg  [31:0]      wbu_reg_pc;	// src/main/scala/npc/wbu.scala:66:29
  reg  [31:0]      wbu_reg_result;	// src/main/scala/npc/wbu.scala:67:33
  reg  [31:0]      wbu_reg_dmem_rdata;	// src/main/scala/npc/wbu.scala:68:37
  reg  [4:0]       wbu_reg_wb_addr;	// src/main/scala/npc/wbu.scala:69:34
  wire             _wb_wen_T_1 = wbu_reg_inst[6:0] == 7'h37;	// src/main/scala/npc/wbu.scala:65:31, :72:28, :81:36
  wire             _wb_wen_T_2 = wbu_reg_inst[6:0] == 7'h17;	// src/main/scala/npc/wbu.scala:65:31, :72:28, :81:36
  wire             _wb_wen_T_4 = wbu_reg_inst[6:0] == 7'h33;	// src/main/scala/npc/wbu.scala:65:31, :72:28, :81:36
  wire             _wb_wen_T_6 = wbu_reg_inst[6:0] == 7'h13;	// src/main/scala/npc/wbu.scala:65:31, :72:28, :81:36
  wire             _wb_wen_T_8 = wbu_reg_inst[6:0] == 7'h3;	// src/main/scala/npc/wbu.scala:65:31, :72:28, :81:36
  wire             _wb_wen_T_10 = wbu_reg_inst[6:0] == 7'h6F;	// src/main/scala/npc/wbu.scala:65:31, :72:28, :81:36
  wire             _wb_wen_T_12 = wbu_reg_inst[6:0] == 7'h67;	// src/main/scala/npc/wbu.scala:65:31, :72:28, :81:36
  wire [1:0]       wb_sel =
    _wb_wen_T_12 | _wb_wen_T_10
      ? 2'h1
      : wbu_reg_inst[6:0] == 7'h73 | wbu_reg_inst[6:0] == 7'h63
          ? 2'h0
          : _wb_wen_T_8
              ? 2'h3
              : {_wb_wen_T_6 | _wb_wen_T_4 | _wb_wen_T_2 | _wb_wen_T_1, 1'h0};	// src/main/scala/npc/wbu.scala:41:22, :49:15, :65:31, :72:28, :81:36
  wire [3:0][31:0] _GEN =
    {{wbu_reg_dmem_rdata}, {wbu_reg_result}, {wbu_reg_pc + 32'h4}, {32'h0}};	// src/main/scala/npc/wbu.scala:66:29, :67:33, :68:37, :77:29, :95:37
  wire             io_wb_wen_0 =
    (_wb_wen_T_12 | _wb_wen_T_10 | _wb_wen_T_8 | _wb_wen_T_6 | _wb_wen_T_4 | _wb_wen_T_2
     | _wb_wen_T_1) & state == 2'h1;	// src/main/scala/npc/wbu.scala:41:22, :49:15, :81:36, :104:39, :117:{23,33}
  always @(posedge clock) begin	// src/main/scala/npc/wbu.scala:29:7
    if (reset)	// src/main/scala/npc/wbu.scala:29:7
      state <= 2'h0;	// src/main/scala/npc/wbu.scala:41:22
    else begin	// src/main/scala/npc/wbu.scala:29:7
      automatic logic [3:0][1:0] _GEN_0;	// src/main/scala/npc/wbu.scala:41:22, :44:17, :47:25, :55:13, :60:13
      _GEN_0 = {{state}, {2'h0}, {2'h2}, {io_in_valid ? 2'h1 : state}};	// src/main/scala/npc/wbu.scala:41:22, :44:17, :47:25, :49:15, :55:13, :60:13
      state <= _GEN_0[state];	// src/main/scala/npc/wbu.scala:41:22, :44:17, :47:25, :55:13, :60:13
    end
    if (io_in_ready_0 & io_in_valid) begin	// src/main/scala/chisel3/util/Decoupled.scala:51:35, src/main/scala/npc/wbu.scala:44:17, :47:25
      wbu_reg_inst <= io_in_bits_inst;	// src/main/scala/npc/wbu.scala:65:31
      wbu_reg_pc <= io_in_bits_pc;	// src/main/scala/npc/wbu.scala:66:29
      wbu_reg_result <= io_in_bits_result;	// src/main/scala/npc/wbu.scala:67:33
      wbu_reg_dmem_rdata <= io_in_bits_dmem_rdata;	// src/main/scala/npc/wbu.scala:68:37
      wbu_reg_wb_addr <= io_in_bits_wb_addr;	// src/main/scala/npc/wbu.scala:69:34
    end
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/npc/wbu.scala:29:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/npc/wbu.scala:29:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/npc/wbu.scala:29:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// src/main/scala/npc/wbu.scala:29:7
      automatic logic [31:0] _RANDOM[0:4];	// src/main/scala/npc/wbu.scala:29:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/npc/wbu.scala:29:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/npc/wbu.scala:29:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/npc/wbu.scala:29:7
        for (logic [2:0] i = 3'h0; i < 3'h5; i += 3'h1) begin
          _RANDOM[i] = `RANDOM;	// src/main/scala/npc/wbu.scala:29:7
        end	// src/main/scala/npc/wbu.scala:29:7
        state = _RANDOM[3'h0][1:0];	// src/main/scala/npc/wbu.scala:29:7, :41:22
        wbu_reg_inst = {_RANDOM[3'h0][31:2], _RANDOM[3'h1][1:0]};	// src/main/scala/npc/wbu.scala:29:7, :41:22, :65:31
        wbu_reg_pc = {_RANDOM[3'h1][31:2], _RANDOM[3'h2][1:0]};	// src/main/scala/npc/wbu.scala:29:7, :65:31, :66:29
        wbu_reg_result = {_RANDOM[3'h2][31:2], _RANDOM[3'h3][1:0]};	// src/main/scala/npc/wbu.scala:29:7, :66:29, :67:33
        wbu_reg_dmem_rdata = {_RANDOM[3'h3][31:2], _RANDOM[3'h4][1:0]};	// src/main/scala/npc/wbu.scala:29:7, :67:33, :68:37
        wbu_reg_wb_addr = _RANDOM[3'h4][6:2];	// src/main/scala/npc/wbu.scala:29:7, :68:37, :69:34
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/npc/wbu.scala:29:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/npc/wbu.scala:29:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  assign io_in_ready = io_in_ready_0;	// src/main/scala/npc/wbu.scala:29:7, :44:17, :47:25
  assign io_wb_data = _GEN[wb_sel];	// src/main/scala/npc/wbu.scala:29:7, :81:36, :95:37
  assign io_wb_addr = wbu_reg_wb_addr;	// src/main/scala/npc/wbu.scala:29:7, :69:34
  assign io_wb_wen = io_wb_wen_0;	// src/main/scala/npc/wbu.scala:29:7, :117:23
  assign io_pc_wen = state == 2'h2;	// src/main/scala/npc/wbu.scala:29:7, :41:22, :55:13, :118:23
  assign io_wbu_state_debug = state;	// src/main/scala/npc/wbu.scala:29:7, :41:22
  assign io_wb_data_debug = _GEN[wb_sel];	// src/main/scala/npc/wbu.scala:29:7, :81:36, :95:37
  assign io_wb_wen_debug = io_wb_wen_0;	// src/main/scala/npc/wbu.scala:29:7, :117:23
  assign io_wb_sel_debug = wb_sel;	// src/main/scala/npc/wbu.scala:29:7, :81:36
  assign io_wbu_reg_dmem_rdata_debug = wbu_reg_dmem_rdata;	// src/main/scala/npc/wbu.scala:29:7, :68:37
endmodule

// external module RegisterFile

module MemoryArbiter(	// src/main/scala/common/MemoryArbiter.scala:6:7
  input         clock,	// src/main/scala/common/MemoryArbiter.scala:6:7
                reset,	// src/main/scala/common/MemoryArbiter.scala:6:7
  input  [31:0] io_ifu_ar_addr,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_ifu_ar_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_ifu_ar_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [31:0] io_ifu_r_data,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_ifu_r_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_ifu_r_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [31:0] io_lsu_aw_addr,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [2:0]  io_lsu_aw_size,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_aw_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_aw_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [31:0] io_lsu_w_data,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [3:0]  io_lsu_w_strb,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_w_last,	// src/main/scala/common/MemoryArbiter.scala:7:14
                io_lsu_w_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_w_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [1:0]  io_lsu_b_resp,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_b_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_b_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [31:0] io_lsu_ar_addr,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [2:0]  io_lsu_ar_size,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_ar_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_ar_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [31:0] io_lsu_r_data,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [1:0]  io_lsu_r_resp,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_r_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_r_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [31:0] io_axi_aw_addr,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [2:0]  io_axi_aw_size,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_axi_aw_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_axi_aw_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [31:0] io_axi_w_data,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [3:0]  io_axi_w_strb,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_axi_w_last,	// src/main/scala/common/MemoryArbiter.scala:7:14
                io_axi_w_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_axi_w_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [1:0]  io_axi_b_resp,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_axi_b_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_axi_b_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [31:0] io_axi_ar_addr,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [2:0]  io_axi_ar_size,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_axi_ar_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_axi_ar_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [31:0] io_axi_r_data,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input  [1:0]  io_axi_r_resp,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_axi_r_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_axi_r_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_ifu_handshake_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_ifu_handshake_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  input         io_lsu_handshake_valid,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output        io_lsu_handshake_ready,	// src/main/scala/common/MemoryArbiter.scala:7:14
  output [1:0]  io_Arbiter_state_debug	// src/main/scala/common/MemoryArbiter.scala:7:14
);

  reg  state;	// src/main/scala/common/MemoryArbiter.scala:30:22
  wire _GEN = state & io_ifu_handshake_valid;	// src/main/scala/common/MemoryArbiter.scala:30:22, :33:17, :51:36, :52:16, src/main/scala/common/axi4.scala:116:18
  wire _GEN_0 = ~state | io_ifu_handshake_valid | ~io_lsu_handshake_valid;	// src/main/scala/common/MemoryArbiter.scala:30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:74:17
  always @(posedge clock) begin	// src/main/scala/common/MemoryArbiter.scala:6:7
    if (reset)	// src/main/scala/common/MemoryArbiter.scala:6:7
      state <= 1'h0;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22
    else if (state)	// src/main/scala/common/MemoryArbiter.scala:30:22
      state <= io_ifu_handshake_valid | io_lsu_handshake_valid;	// src/main/scala/common/MemoryArbiter.scala:30:22, :51:36, :53:15, :54:43
    else	// src/main/scala/common/MemoryArbiter.scala:30:22
      state <= io_ifu_handshake_valid | io_lsu_handshake_valid;	// src/main/scala/common/MemoryArbiter.scala:30:22, :39:35
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/common/MemoryArbiter.scala:6:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/common/MemoryArbiter.scala:6:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/common/MemoryArbiter.scala:6:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// src/main/scala/common/MemoryArbiter.scala:6:7
      automatic logic [31:0] _RANDOM[0:0];	// src/main/scala/common/MemoryArbiter.scala:6:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/common/MemoryArbiter.scala:6:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/common/MemoryArbiter.scala:6:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/common/MemoryArbiter.scala:6:7
        _RANDOM[/*Zero width*/ 1'b0] = `RANDOM;	// src/main/scala/common/MemoryArbiter.scala:6:7
        state = _RANDOM[/*Zero width*/ 1'b0][0];	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/common/MemoryArbiter.scala:6:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/common/MemoryArbiter.scala:6:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  assign io_ifu_ar_ready = state & _GEN & io_axi_ar_ready;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, src/main/scala/common/axi4.scala:116:18
  assign io_ifu_r_data = state & _GEN ? io_axi_r_data : 32'h0;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :30:22, :33:17, :51:36, :52:16, src/main/scala/common/axi4.scala:116:18, :120:16
  assign io_ifu_r_valid = state & _GEN & io_axi_r_valid;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, src/main/scala/common/axi4.scala:116:18, :123:17
  assign io_lsu_aw_ready =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_axi_aw_ready;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:105:18
  assign io_lsu_w_ready =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_axi_w_ready;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:108:17
  assign io_lsu_b_resp = _GEN_0 ? 2'h0 : io_axi_b_resp;	// src/main/scala/common/MemoryArbiter.scala:6:7, :33:17, src/main/scala/common/axi4.scala:74:17, :112:16
  assign io_lsu_b_valid =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_axi_b_valid;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:113:17
  assign io_lsu_ar_ready =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_axi_ar_ready;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:116:18
  assign io_lsu_r_data = _GEN_0 ? 32'h0 : io_axi_r_data;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17, :120:16
  assign io_lsu_r_resp = _GEN_0 ? 2'h0 : io_axi_r_resp;	// src/main/scala/common/MemoryArbiter.scala:6:7, :33:17, src/main/scala/common/axi4.scala:74:17, :112:16, :121:16
  assign io_lsu_r_valid =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_axi_r_valid;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:123:17
  assign io_axi_aw_addr = _GEN_0 ? 32'h0 : io_lsu_aw_addr;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17
  assign io_axi_aw_size = _GEN_0 ? 3'h2 : io_lsu_aw_size;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17, :76:17
  assign io_axi_aw_valid =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_lsu_aw_valid;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:73:18
  assign io_axi_w_data = _GEN_0 ? 32'h0 : io_lsu_w_data;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17, :82:16
  assign io_axi_w_strb = _GEN_0 ? 4'h0 : io_lsu_w_strb;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17, :83:16
  assign io_axi_w_last =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_lsu_w_last;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:84:16
  assign io_axi_w_valid =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_lsu_w_valid;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:81:17
  assign io_axi_b_ready =
    state & ~io_ifu_handshake_valid & io_lsu_handshake_valid & io_lsu_b_ready;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, src/main/scala/common/axi4.scala:87:17
  assign io_axi_ar_addr =
    state
      ? (io_ifu_handshake_valid
           ? io_ifu_ar_addr
           : io_lsu_handshake_valid ? io_lsu_ar_addr : 32'h0)
      : 32'h0;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :30:22, :33:17, :51:36, :52:16, :54:43, :55:16, src/main/scala/common/axi4.scala:91:17
  assign io_axi_ar_size = _GEN_0 ? 3'h2 : io_lsu_ar_size;	// src/main/scala/common/MemoryArbiter.scala:6:7, :7:14, :33:17, src/main/scala/common/axi4.scala:74:17, :93:17
  assign io_axi_ar_valid =
    state
    & (io_ifu_handshake_valid
         ? io_ifu_ar_valid
         : io_lsu_handshake_valid & io_lsu_ar_valid);	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, :55:16, src/main/scala/common/axi4.scala:90:18
  assign io_axi_r_ready =
    state
    & (io_ifu_handshake_valid ? io_ifu_r_ready : io_lsu_handshake_valid & io_lsu_r_ready);	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17, :51:36, :52:16, :54:43, :55:16, src/main/scala/common/axi4.scala:98:17
  assign io_ifu_handshake_ready = ~state;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17
  assign io_lsu_handshake_ready = ~state;	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :33:17
  assign io_Arbiter_state_debug = {1'h0, state};	// src/main/scala/common/MemoryArbiter.scala:6:7, :30:22, :64:26
endmodule

module Xbar(	// src/main/scala/common/Xbar.scala:8:7
  input  [31:0] io_in_aw_addr,	// src/main/scala/common/Xbar.scala:9:14
  input  [2:0]  io_in_aw_size,	// src/main/scala/common/Xbar.scala:9:14
  input         io_in_aw_valid,	// src/main/scala/common/Xbar.scala:9:14
  output        io_in_aw_ready,	// src/main/scala/common/Xbar.scala:9:14
  input  [31:0] io_in_w_data,	// src/main/scala/common/Xbar.scala:9:14
  input  [3:0]  io_in_w_strb,	// src/main/scala/common/Xbar.scala:9:14
  input         io_in_w_last,	// src/main/scala/common/Xbar.scala:9:14
                io_in_w_valid,	// src/main/scala/common/Xbar.scala:9:14
  output        io_in_w_ready,	// src/main/scala/common/Xbar.scala:9:14
  output [1:0]  io_in_b_resp,	// src/main/scala/common/Xbar.scala:9:14
  output        io_in_b_valid,	// src/main/scala/common/Xbar.scala:9:14
  input         io_in_b_ready,	// src/main/scala/common/Xbar.scala:9:14
  input  [31:0] io_in_ar_addr,	// src/main/scala/common/Xbar.scala:9:14
  input  [2:0]  io_in_ar_size,	// src/main/scala/common/Xbar.scala:9:14
  input         io_in_ar_valid,	// src/main/scala/common/Xbar.scala:9:14
  output        io_in_ar_ready,	// src/main/scala/common/Xbar.scala:9:14
  output [31:0] io_in_r_data,	// src/main/scala/common/Xbar.scala:9:14
  output [1:0]  io_in_r_resp,	// src/main/scala/common/Xbar.scala:9:14
  output        io_in_r_valid,	// src/main/scala/common/Xbar.scala:9:14
  input         io_in_r_ready,	// src/main/scala/common/Xbar.scala:9:14
  output [31:0] io_soc_aw_addr,	// src/main/scala/common/Xbar.scala:9:14
  output [2:0]  io_soc_aw_size,	// src/main/scala/common/Xbar.scala:9:14
  output        io_soc_aw_valid,	// src/main/scala/common/Xbar.scala:9:14
  input         io_soc_aw_ready,	// src/main/scala/common/Xbar.scala:9:14
  output [31:0] io_soc_w_data,	// src/main/scala/common/Xbar.scala:9:14
  output [3:0]  io_soc_w_strb,	// src/main/scala/common/Xbar.scala:9:14
  output        io_soc_w_last,	// src/main/scala/common/Xbar.scala:9:14
                io_soc_w_valid,	// src/main/scala/common/Xbar.scala:9:14
  input         io_soc_w_ready,	// src/main/scala/common/Xbar.scala:9:14
  input  [1:0]  io_soc_b_resp,	// src/main/scala/common/Xbar.scala:9:14
  input         io_soc_b_valid,	// src/main/scala/common/Xbar.scala:9:14
  output        io_soc_b_ready,	// src/main/scala/common/Xbar.scala:9:14
  output [31:0] io_soc_ar_addr,	// src/main/scala/common/Xbar.scala:9:14
  output [2:0]  io_soc_ar_size,	// src/main/scala/common/Xbar.scala:9:14
  output        io_soc_ar_valid,	// src/main/scala/common/Xbar.scala:9:14
  input         io_soc_ar_ready,	// src/main/scala/common/Xbar.scala:9:14
  input  [31:0] io_soc_r_data,	// src/main/scala/common/Xbar.scala:9:14
  input  [1:0]  io_soc_r_resp,	// src/main/scala/common/Xbar.scala:9:14
  input         io_soc_r_valid,	// src/main/scala/common/Xbar.scala:9:14
  output        io_soc_r_ready,	// src/main/scala/common/Xbar.scala:9:14
  output [31:0] io_clint_ar_addr,	// src/main/scala/common/Xbar.scala:9:14
  input  [31:0] io_clint_r_data	// src/main/scala/common/Xbar.scala:9:14
);

  wire _GEN =
    (|(io_in_aw_addr[31:25])) & io_in_aw_addr < 32'h200FFFF | (|(io_in_ar_addr[31:25]))
    & io_in_ar_addr < 32'h200FFFF;	// src/main/scala/common/Xbar.scala:22:{10,24,32}, :26:38
  assign io_in_aw_ready = ~_GEN & io_soc_aw_ready;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :27:14, :29:12, src/main/scala/common/axi4.scala:73:18
  assign io_in_w_ready = ~_GEN & io_soc_w_ready;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :27:14, :29:12, src/main/scala/common/axi4.scala:73:18
  assign io_in_b_resp = _GEN ? 2'h0 : io_soc_b_resp;	// src/main/scala/common/Xbar.scala:8:7, :9:14, :26:{38,72}, :27:14, :29:12
  assign io_in_b_valid = ~_GEN & io_soc_b_valid;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :27:14, :29:12, src/main/scala/common/axi4.scala:73:18
  assign io_in_ar_ready = _GEN | io_soc_ar_ready;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :27:14, :29:12
  assign io_in_r_data = _GEN ? io_clint_r_data : io_soc_r_data;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :27:14, :29:12
  assign io_in_r_resp = _GEN ? 2'h0 : io_soc_r_resp;	// src/main/scala/common/Xbar.scala:8:7, :9:14, :26:{38,72}, :27:14, :29:12
  assign io_in_r_valid = _GEN | io_soc_r_valid;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :27:14, :29:12
  assign io_soc_aw_addr = _GEN ? 32'h0 : io_in_aw_addr;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:74:17, :120:16
  assign io_soc_aw_size = _GEN ? 3'h2 : io_in_aw_size;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:76:17
  assign io_soc_aw_valid = ~_GEN & io_in_aw_valid;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:73:18
  assign io_soc_w_data = _GEN ? 32'h0 : io_in_w_data;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:82:16, :120:16
  assign io_soc_w_strb = _GEN ? 4'h0 : io_in_w_strb;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:83:16, :111:14
  assign io_soc_w_last = ~_GEN & io_in_w_last;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:73:18, :84:16
  assign io_soc_w_valid = ~_GEN & io_in_w_valid;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:73:18, :81:17
  assign io_soc_b_ready = ~_GEN & io_in_b_ready;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:73:18, :87:17
  assign io_soc_ar_addr = _GEN ? 32'h0 : io_in_ar_addr;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:91:17, :120:16
  assign io_soc_ar_size = _GEN ? 3'h2 : io_in_ar_size;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:76:17, :93:17
  assign io_soc_ar_valid = ~_GEN & io_in_ar_valid;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:73:18, :90:18
  assign io_soc_r_ready = ~_GEN & io_in_r_ready;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :29:12, src/main/scala/common/axi4.scala:73:18, :98:17
  assign io_clint_ar_addr = _GEN ? io_in_ar_addr : 32'h0;	// src/main/scala/common/Xbar.scala:8:7, :26:{38,72}, :27:14, src/main/scala/common/axi4.scala:91:17, :120:16
endmodule

module clint(	// src/main/scala/common/clint.scala:8:7
  input         clock,	// src/main/scala/common/clint.scala:8:7
                reset,	// src/main/scala/common/clint.scala:8:7
  input  [31:0] io_in_ar_addr,	// src/main/scala/common/clint.scala:9:14
  output [31:0] io_in_r_data	// src/main/scala/common/clint.scala:9:14
);

  reg [63:0] mtime;	// src/main/scala/common/clint.scala:20:22
  always @(posedge clock) begin	// src/main/scala/common/clint.scala:8:7
    if (reset)	// src/main/scala/common/clint.scala:8:7
      mtime <= 64'h0;	// src/main/scala/common/clint.scala:20:22
    else	// src/main/scala/common/clint.scala:8:7
      mtime <= mtime + 64'h1;	// src/main/scala/common/clint.scala:20:22, :21:18
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/common/clint.scala:8:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/common/clint.scala:8:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/common/clint.scala:8:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// src/main/scala/common/clint.scala:8:7
      automatic logic [31:0] _RANDOM[0:1];	// src/main/scala/common/clint.scala:8:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/common/clint.scala:8:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/common/clint.scala:8:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/common/clint.scala:8:7
        for (logic [1:0] i = 2'h0; i < 2'h2; i += 2'h1) begin
          _RANDOM[i[0]] = `RANDOM;	// src/main/scala/common/clint.scala:8:7
        end	// src/main/scala/common/clint.scala:8:7
        mtime = {_RANDOM[1'h0], _RANDOM[1'h1]};	// src/main/scala/common/clint.scala:8:7, :20:22
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/common/clint.scala:8:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/common/clint.scala:8:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  assign io_in_r_data =
    io_in_ar_addr == 32'h200BFF8
      ? mtime[31:0]
      : io_in_ar_addr == 32'h200BFFC ? mtime[63:32] : 32'h0;	// src/main/scala/common/clint.scala:8:7, :20:22, :28:{23,39,56}, :29:{18,26}, :30:{30,61,69}, :31:{18,26}, :33:18
endmodule

module Core(	// src/main/scala/npc/core.scala:8:7
  input         clock,	// src/main/scala/npc/core.scala:8:7
                reset,	// src/main/scala/npc/core.scala:8:7
  output [31:0] io_master_awaddr,	// src/main/scala/npc/core.scala:9:16
  output [7:0]  io_master_awlen,	// src/main/scala/npc/core.scala:9:16
  output [2:0]  io_master_awsize,	// src/main/scala/npc/core.scala:9:16
  output [1:0]  io_master_awburst,	// src/main/scala/npc/core.scala:9:16
  output [3:0]  io_master_awid,	// src/main/scala/npc/core.scala:9:16
  output        io_master_awvalid,	// src/main/scala/npc/core.scala:9:16
  input         io_master_awready,	// src/main/scala/npc/core.scala:9:16
  output [31:0] io_master_wdata,	// src/main/scala/npc/core.scala:9:16
  output [3:0]  io_master_wstrb,	// src/main/scala/npc/core.scala:9:16
  output        io_master_wlast,	// src/main/scala/npc/core.scala:9:16
                io_master_wvalid,	// src/main/scala/npc/core.scala:9:16
  input         io_master_wready,	// src/main/scala/npc/core.scala:9:16
  input  [3:0]  io_master_bid,	// src/main/scala/npc/core.scala:9:16
  input  [1:0]  io_master_bresp,	// src/main/scala/npc/core.scala:9:16
  input         io_master_bvalid,	// src/main/scala/npc/core.scala:9:16
  output        io_master_bready,	// src/main/scala/npc/core.scala:9:16
  output [31:0] io_master_araddr,	// src/main/scala/npc/core.scala:9:16
  output [7:0]  io_master_arlen,	// src/main/scala/npc/core.scala:9:16
  output [2:0]  io_master_arsize,	// src/main/scala/npc/core.scala:9:16
  output [1:0]  io_master_arburst,	// src/main/scala/npc/core.scala:9:16
  output [3:0]  io_master_arid,	// src/main/scala/npc/core.scala:9:16
  output        io_master_arvalid,	// src/main/scala/npc/core.scala:9:16
  input         io_master_arready,	// src/main/scala/npc/core.scala:9:16
  input  [3:0]  io_master_rid,	// src/main/scala/npc/core.scala:9:16
  input  [31:0] io_master_rdata,	// src/main/scala/npc/core.scala:9:16
  input  [1:0]  io_master_rresp,	// src/main/scala/npc/core.scala:9:16
  input         io_master_rlast,	// src/main/scala/npc/core.scala:9:16
                io_master_rvalid,	// src/main/scala/npc/core.scala:9:16
  output        io_master_rready,	// src/main/scala/npc/core.scala:9:16
  input  [31:0] io_slave_awaddr,	// src/main/scala/npc/core.scala:9:16
  input  [7:0]  io_slave_awlen,	// src/main/scala/npc/core.scala:9:16
  input  [2:0]  io_slave_awsize,	// src/main/scala/npc/core.scala:9:16
  input  [1:0]  io_slave_awburst,	// src/main/scala/npc/core.scala:9:16
  input  [3:0]  io_slave_awid,	// src/main/scala/npc/core.scala:9:16
  input         io_slave_awvalid,	// src/main/scala/npc/core.scala:9:16
  output        io_slave_awready,	// src/main/scala/npc/core.scala:9:16
  input  [31:0] io_slave_wdata,	// src/main/scala/npc/core.scala:9:16
  input  [3:0]  io_slave_wstrb,	// src/main/scala/npc/core.scala:9:16
  input         io_slave_wlast,	// src/main/scala/npc/core.scala:9:16
                io_slave_wvalid,	// src/main/scala/npc/core.scala:9:16
  output        io_slave_wready,	// src/main/scala/npc/core.scala:9:16
  output [3:0]  io_slave_bid,	// src/main/scala/npc/core.scala:9:16
  output [1:0]  io_slave_bresp,	// src/main/scala/npc/core.scala:9:16
  output        io_slave_bvalid,	// src/main/scala/npc/core.scala:9:16
  input         io_slave_bready,	// src/main/scala/npc/core.scala:9:16
  input  [31:0] io_slave_araddr,	// src/main/scala/npc/core.scala:9:16
  input  [7:0]  io_slave_arlen,	// src/main/scala/npc/core.scala:9:16
  input  [2:0]  io_slave_arsize,	// src/main/scala/npc/core.scala:9:16
  input  [1:0]  io_slave_arburst,	// src/main/scala/npc/core.scala:9:16
  input  [3:0]  io_slave_arid,	// src/main/scala/npc/core.scala:9:16
  input         io_slave_arvalid,	// src/main/scala/npc/core.scala:9:16
  output        io_slave_arready,	// src/main/scala/npc/core.scala:9:16
  output [3:0]  io_slave_rid,	// src/main/scala/npc/core.scala:9:16
  output [31:0] io_slave_rdata,	// src/main/scala/npc/core.scala:9:16
  output [1:0]  io_slave_rresp,	// src/main/scala/npc/core.scala:9:16
  output        io_slave_rlast,	// src/main/scala/npc/core.scala:9:16
                io_slave_rvalid,	// src/main/scala/npc/core.scala:9:16
  input         io_slave_rready,	// src/main/scala/npc/core.scala:9:16
                io_interrupt,	// src/main/scala/npc/core.scala:9:16
  output [31:0] io_pc_debug,	// src/main/scala/npc/core.scala:9:16
                io_inst_debug,	// src/main/scala/npc/core.scala:9:16
  output [2:0]  io_ifu_state_debug,	// src/main/scala/npc/core.scala:9:16
                io_lsu_state_debug,	// src/main/scala/npc/core.scala:9:16
  output        io_lsu_is_ld_or_st_debug,	// src/main/scala/npc/core.scala:9:16
  output [31:0] io_lsu_reg_inst_debug,	// src/main/scala/npc/core.scala:9:16
                io_dmem_wdata_debug,	// src/main/scala/npc/core.scala:9:16
                io_dmem_rdata_debug,	// src/main/scala/npc/core.scala:9:16
                io_lsu_reg_dmem_addr_debug,	// src/main/scala/npc/core.scala:9:16
  output [2:0]  io_lsu_memory_ar_size,	// src/main/scala/npc/core.scala:9:16
  output [1:0]  io_wbu_state_debug,	// src/main/scala/npc/core.scala:9:16
  output [31:0] io_wb_data_debug,	// src/main/scala/npc/core.scala:9:16
  output        io_wb_wen_debug,	// src/main/scala/npc/core.scala:9:16
  output [1:0]  io_wb_sel_debug,	// src/main/scala/npc/core.scala:9:16
  output [31:0] io_wbu_reg_dmem_rdata_debug,	// src/main/scala/npc/core.scala:9:16
  output [1:0]  io_Arbiter_state_debug	// src/main/scala/npc/core.scala:9:16
);

  wire [31:0] _clint_io_in_r_data;	// src/main/scala/npc/core.scala:90:23
  wire        _xbar_io_in_aw_ready;	// src/main/scala/npc/core.scala:89:22
  wire        _xbar_io_in_w_ready;	// src/main/scala/npc/core.scala:89:22
  wire [1:0]  _xbar_io_in_b_resp;	// src/main/scala/npc/core.scala:89:22
  wire        _xbar_io_in_b_valid;	// src/main/scala/npc/core.scala:89:22
  wire        _xbar_io_in_ar_ready;	// src/main/scala/npc/core.scala:89:22
  wire [31:0] _xbar_io_in_r_data;	// src/main/scala/npc/core.scala:89:22
  wire [1:0]  _xbar_io_in_r_resp;	// src/main/scala/npc/core.scala:89:22
  wire        _xbar_io_in_r_valid;	// src/main/scala/npc/core.scala:89:22
  wire [31:0] _xbar_io_clint_ar_addr;	// src/main/scala/npc/core.scala:89:22
  wire        _arbiter_io_ifu_ar_ready;	// src/main/scala/npc/core.scala:82:25
  wire [31:0] _arbiter_io_ifu_r_data;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_ifu_r_valid;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_lsu_aw_ready;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_lsu_w_ready;	// src/main/scala/npc/core.scala:82:25
  wire [1:0]  _arbiter_io_lsu_b_resp;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_lsu_b_valid;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_lsu_ar_ready;	// src/main/scala/npc/core.scala:82:25
  wire [31:0] _arbiter_io_lsu_r_data;	// src/main/scala/npc/core.scala:82:25
  wire [1:0]  _arbiter_io_lsu_r_resp;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_lsu_r_valid;	// src/main/scala/npc/core.scala:82:25
  wire [31:0] _arbiter_io_axi_aw_addr;	// src/main/scala/npc/core.scala:82:25
  wire [2:0]  _arbiter_io_axi_aw_size;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_axi_aw_valid;	// src/main/scala/npc/core.scala:82:25
  wire [31:0] _arbiter_io_axi_w_data;	// src/main/scala/npc/core.scala:82:25
  wire [3:0]  _arbiter_io_axi_w_strb;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_axi_w_last;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_axi_w_valid;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_axi_b_ready;	// src/main/scala/npc/core.scala:82:25
  wire [31:0] _arbiter_io_axi_ar_addr;	// src/main/scala/npc/core.scala:82:25
  wire [2:0]  _arbiter_io_axi_ar_size;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_axi_ar_valid;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_axi_r_ready;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_ifu_handshake_ready;	// src/main/scala/npc/core.scala:82:25
  wire        _arbiter_io_lsu_handshake_ready;	// src/main/scala/npc/core.scala:82:25
  wire [31:0] _regfile_rs1_data;	// src/main/scala/npc/core.scala:50:25
  wire [31:0] _regfile_rs2_data;	// src/main/scala/npc/core.scala:50:25
  wire        _wbu_io_in_ready;	// src/main/scala/npc/core.scala:49:21
  wire [31:0] _wbu_io_wb_data;	// src/main/scala/npc/core.scala:49:21
  wire [4:0]  _wbu_io_wb_addr;	// src/main/scala/npc/core.scala:49:21
  wire        _wbu_io_wb_wen;	// src/main/scala/npc/core.scala:49:21
  wire        _wbu_io_pc_wen;	// src/main/scala/npc/core.scala:49:21
  wire        _lsu_io_in_ready;	// src/main/scala/npc/core.scala:48:21
  wire        _lsu_io_out_valid;	// src/main/scala/npc/core.scala:48:21
  wire [31:0] _lsu_io_out_bits_inst;	// src/main/scala/npc/core.scala:48:21
  wire [31:0] _lsu_io_out_bits_pc;	// src/main/scala/npc/core.scala:48:21
  wire [31:0] _lsu_io_out_bits_dmem_rdata;	// src/main/scala/npc/core.scala:48:21
  wire [31:0] _lsu_io_out_bits_result;	// src/main/scala/npc/core.scala:48:21
  wire [4:0]  _lsu_io_out_bits_wb_addr;	// src/main/scala/npc/core.scala:48:21
  wire        _lsu_io_lsu_axi_resp_err;	// src/main/scala/npc/core.scala:48:21
  wire [31:0] _lsu_io_memory_aw_addr;	// src/main/scala/npc/core.scala:48:21
  wire [2:0]  _lsu_io_memory_aw_size;	// src/main/scala/npc/core.scala:48:21
  wire        _lsu_io_memory_aw_valid;	// src/main/scala/npc/core.scala:48:21
  wire [31:0] _lsu_io_memory_w_data;	// src/main/scala/npc/core.scala:48:21
  wire [3:0]  _lsu_io_memory_w_strb;	// src/main/scala/npc/core.scala:48:21
  wire        _lsu_io_memory_w_last;	// src/main/scala/npc/core.scala:48:21
  wire        _lsu_io_memory_w_valid;	// src/main/scala/npc/core.scala:48:21
  wire        _lsu_io_memory_b_ready;	// src/main/scala/npc/core.scala:48:21
  wire [31:0] _lsu_io_memory_ar_addr;	// src/main/scala/npc/core.scala:48:21
  wire [2:0]  _lsu_io_memory_ar_size;	// src/main/scala/npc/core.scala:48:21
  wire        _lsu_io_memory_ar_valid;	// src/main/scala/npc/core.scala:48:21
  wire        _lsu_io_memory_r_ready;	// src/main/scala/npc/core.scala:48:21
  wire        _lsu_io_arbiter_valid;	// src/main/scala/npc/core.scala:48:21
  wire        _exu_io_in_ready;	// src/main/scala/npc/core.scala:47:21
  wire        _exu_io_out_valid;	// src/main/scala/npc/core.scala:47:21
  wire [31:0] _exu_io_out_bits_inst;	// src/main/scala/npc/core.scala:47:21
  wire [31:0] _exu_io_out_bits_pc;	// src/main/scala/npc/core.scala:47:21
  wire [31:0] _exu_io_out_bits_dmem_addr;	// src/main/scala/npc/core.scala:47:21
  wire [31:0] _exu_io_out_bits_result;	// src/main/scala/npc/core.scala:47:21
  wire [31:0] _exu_io_out_bits_rs2_data;	// src/main/scala/npc/core.scala:47:21
  wire [4:0]  _exu_io_out_bits_wb_addr;	// src/main/scala/npc/core.scala:47:21
  wire        _idu_io_in_ready;	// src/main/scala/npc/core.scala:46:21
  wire        _idu_io_out_valid;	// src/main/scala/npc/core.scala:46:21
  wire [31:0] _idu_io_out_bits_inst;	// src/main/scala/npc/core.scala:46:21
  wire [31:0] _idu_io_out_bits_pc;	// src/main/scala/npc/core.scala:46:21
  wire [4:0]  _idu_io_out_bits_wb_addr;	// src/main/scala/npc/core.scala:46:21
  wire [31:0] _idu_io_out_bits_alu_op1;	// src/main/scala/npc/core.scala:46:21
  wire [31:0] _idu_io_out_bits_alu_op2;	// src/main/scala/npc/core.scala:46:21
  wire [31:0] _idu_io_out_bits_rs2_data;	// src/main/scala/npc/core.scala:46:21
  wire [31:0] _idu_io_jump_reg_target;	// src/main/scala/npc/core.scala:46:21
  wire [31:0] _idu_io_br_target;	// src/main/scala/npc/core.scala:46:21
  wire [31:0] _idu_io_jmp_target;	// src/main/scala/npc/core.scala:46:21
  wire [2:0]  _idu_io_pc_sel;	// src/main/scala/npc/core.scala:46:21
  wire [4:0]  _idu_io_rs1_addr;	// src/main/scala/npc/core.scala:46:21
  wire [4:0]  _idu_io_rs2_addr;	// src/main/scala/npc/core.scala:46:21
  wire        _ifu_io_out_valid;	// src/main/scala/npc/core.scala:45:21
  wire [31:0] _ifu_io_out_bits_inst;	// src/main/scala/npc/core.scala:45:21
  wire [31:0] _ifu_io_out_bits_pc;	// src/main/scala/npc/core.scala:45:21
  wire [31:0] _ifu_io_memory_ar_addr;	// src/main/scala/npc/core.scala:45:21
  wire        _ifu_io_memory_ar_valid;	// src/main/scala/npc/core.scala:45:21
  wire        _ifu_io_memory_r_ready;	// src/main/scala/npc/core.scala:45:21
  wire        _ifu_io_arbiter_valid;	// src/main/scala/npc/core.scala:45:21
  IFU ifu (	// src/main/scala/npc/core.scala:45:21
    .clock               (clock),
    .reset               (reset),
    .io_out_ready        (_idu_io_in_ready),	// src/main/scala/npc/core.scala:46:21
    .io_out_valid        (_ifu_io_out_valid),
    .io_out_bits_inst    (_ifu_io_out_bits_inst),
    .io_out_bits_pc      (_ifu_io_out_bits_pc),
    .io_pc_sel           (_idu_io_pc_sel),	// src/main/scala/npc/core.scala:46:21
    .io_jump_reg_target  (_idu_io_jump_reg_target),	// src/main/scala/npc/core.scala:46:21
    .io_br_target        (_idu_io_br_target),	// src/main/scala/npc/core.scala:46:21
    .io_jmp_target       (_idu_io_jmp_target),	// src/main/scala/npc/core.scala:46:21
    .io_pc_wen           (_wbu_io_pc_wen),	// src/main/scala/npc/core.scala:49:21
    .io_lsu_axi_resp_err (_lsu_io_lsu_axi_resp_err),	// src/main/scala/npc/core.scala:48:21
    .io_memory_ar_addr   (_ifu_io_memory_ar_addr),
    .io_memory_ar_valid  (_ifu_io_memory_ar_valid),
    .io_memory_ar_ready  (_arbiter_io_ifu_ar_ready),	// src/main/scala/npc/core.scala:82:25
    .io_memory_r_data    (_arbiter_io_ifu_r_data),	// src/main/scala/npc/core.scala:82:25
    .io_memory_r_valid   (_arbiter_io_ifu_r_valid),	// src/main/scala/npc/core.scala:82:25
    .io_memory_r_ready   (_ifu_io_memory_r_ready),
    .io_arbiter_valid    (_ifu_io_arbiter_valid),
    .io_arbiter_ready    (_arbiter_io_ifu_handshake_ready),	// src/main/scala/npc/core.scala:82:25
    .io_pc_debug         (io_pc_debug),
    .io_inst_debug       (io_inst_debug),
    .io_ifu_state_debug  (io_ifu_state_debug)
  );
  IDU idu (	// src/main/scala/npc/core.scala:46:21
    .clock                (clock),
    .reset                (reset),
    .io_in_ready          (_idu_io_in_ready),
    .io_in_valid          (_ifu_io_out_valid),	// src/main/scala/npc/core.scala:45:21
    .io_in_bits_inst      (_ifu_io_out_bits_inst),	// src/main/scala/npc/core.scala:45:21
    .io_in_bits_pc        (_ifu_io_out_bits_pc),	// src/main/scala/npc/core.scala:45:21
    .io_out_ready         (_exu_io_in_ready),	// src/main/scala/npc/core.scala:47:21
    .io_out_valid         (_idu_io_out_valid),
    .io_out_bits_inst     (_idu_io_out_bits_inst),
    .io_out_bits_pc       (_idu_io_out_bits_pc),
    .io_out_bits_wb_addr  (_idu_io_out_bits_wb_addr),
    .io_out_bits_alu_op1  (_idu_io_out_bits_alu_op1),
    .io_out_bits_alu_op2  (_idu_io_out_bits_alu_op2),
    .io_out_bits_rs2_data (_idu_io_out_bits_rs2_data),
    .io_jump_reg_target   (_idu_io_jump_reg_target),
    .io_br_target         (_idu_io_br_target),
    .io_jmp_target        (_idu_io_jmp_target),
    .io_pc_sel            (_idu_io_pc_sel),
    .io_rs1_data          (_regfile_rs1_data),	// src/main/scala/npc/core.scala:50:25
    .io_rs2_data          (_regfile_rs2_data),	// src/main/scala/npc/core.scala:50:25
    .io_rs1_addr          (_idu_io_rs1_addr),
    .io_rs2_addr          (_idu_io_rs2_addr)
  );
  EXU exu (	// src/main/scala/npc/core.scala:47:21
    .clock                 (clock),
    .reset                 (reset),
    .io_in_ready           (_exu_io_in_ready),
    .io_in_valid           (_idu_io_out_valid),	// src/main/scala/npc/core.scala:46:21
    .io_in_bits_inst       (_idu_io_out_bits_inst),	// src/main/scala/npc/core.scala:46:21
    .io_in_bits_pc         (_idu_io_out_bits_pc),	// src/main/scala/npc/core.scala:46:21
    .io_in_bits_wb_addr    (_idu_io_out_bits_wb_addr),	// src/main/scala/npc/core.scala:46:21
    .io_in_bits_alu_op1    (_idu_io_out_bits_alu_op1),	// src/main/scala/npc/core.scala:46:21
    .io_in_bits_alu_op2    (_idu_io_out_bits_alu_op2),	// src/main/scala/npc/core.scala:46:21
    .io_in_bits_rs2_data   (_idu_io_out_bits_rs2_data),	// src/main/scala/npc/core.scala:46:21
    .io_out_ready          (_lsu_io_in_ready),	// src/main/scala/npc/core.scala:48:21
    .io_out_valid          (_exu_io_out_valid),
    .io_out_bits_inst      (_exu_io_out_bits_inst),
    .io_out_bits_pc        (_exu_io_out_bits_pc),
    .io_out_bits_dmem_addr (_exu_io_out_bits_dmem_addr),
    .io_out_bits_result    (_exu_io_out_bits_result),
    .io_out_bits_rs2_data  (_exu_io_out_bits_rs2_data),
    .io_out_bits_wb_addr   (_exu_io_out_bits_wb_addr)
  );
  LSU lsu (	// src/main/scala/npc/core.scala:48:21
    .clock                      (clock),
    .reset                      (reset),
    .io_in_ready                (_lsu_io_in_ready),
    .io_in_valid                (_exu_io_out_valid),	// src/main/scala/npc/core.scala:47:21
    .io_in_bits_inst            (_exu_io_out_bits_inst),	// src/main/scala/npc/core.scala:47:21
    .io_in_bits_pc              (_exu_io_out_bits_pc),	// src/main/scala/npc/core.scala:47:21
    .io_in_bits_dmem_addr       (_exu_io_out_bits_dmem_addr),	// src/main/scala/npc/core.scala:47:21
    .io_in_bits_result          (_exu_io_out_bits_result),	// src/main/scala/npc/core.scala:47:21
    .io_in_bits_rs2_data        (_exu_io_out_bits_rs2_data),	// src/main/scala/npc/core.scala:47:21
    .io_in_bits_wb_addr         (_exu_io_out_bits_wb_addr),	// src/main/scala/npc/core.scala:47:21
    .io_out_ready               (_wbu_io_in_ready),	// src/main/scala/npc/core.scala:49:21
    .io_out_valid               (_lsu_io_out_valid),
    .io_out_bits_inst           (_lsu_io_out_bits_inst),
    .io_out_bits_pc             (_lsu_io_out_bits_pc),
    .io_out_bits_dmem_rdata     (_lsu_io_out_bits_dmem_rdata),
    .io_out_bits_result         (_lsu_io_out_bits_result),
    .io_out_bits_wb_addr        (_lsu_io_out_bits_wb_addr),
    .io_lsu_axi_resp_err        (_lsu_io_lsu_axi_resp_err),
    .io_memory_aw_addr          (_lsu_io_memory_aw_addr),
    .io_memory_aw_size          (_lsu_io_memory_aw_size),
    .io_memory_aw_valid         (_lsu_io_memory_aw_valid),
    .io_memory_aw_ready         (_arbiter_io_lsu_aw_ready),	// src/main/scala/npc/core.scala:82:25
    .io_memory_w_data           (_lsu_io_memory_w_data),
    .io_memory_w_strb           (_lsu_io_memory_w_strb),
    .io_memory_w_last           (_lsu_io_memory_w_last),
    .io_memory_w_valid          (_lsu_io_memory_w_valid),
    .io_memory_w_ready          (_arbiter_io_lsu_w_ready),	// src/main/scala/npc/core.scala:82:25
    .io_memory_b_resp           (_arbiter_io_lsu_b_resp),	// src/main/scala/npc/core.scala:82:25
    .io_memory_b_valid          (_arbiter_io_lsu_b_valid),	// src/main/scala/npc/core.scala:82:25
    .io_memory_b_ready          (_lsu_io_memory_b_ready),
    .io_memory_ar_addr          (_lsu_io_memory_ar_addr),
    .io_memory_ar_size          (_lsu_io_memory_ar_size),
    .io_memory_ar_valid         (_lsu_io_memory_ar_valid),
    .io_memory_ar_ready         (_arbiter_io_lsu_ar_ready),	// src/main/scala/npc/core.scala:82:25
    .io_memory_r_data           (_arbiter_io_lsu_r_data),	// src/main/scala/npc/core.scala:82:25
    .io_memory_r_resp           (_arbiter_io_lsu_r_resp),	// src/main/scala/npc/core.scala:82:25
    .io_memory_r_valid          (_arbiter_io_lsu_r_valid),	// src/main/scala/npc/core.scala:82:25
    .io_memory_r_ready          (_lsu_io_memory_r_ready),
    .io_arbiter_valid           (_lsu_io_arbiter_valid),
    .io_arbiter_ready           (_arbiter_io_lsu_handshake_ready),	// src/main/scala/npc/core.scala:82:25
    .io_lsu_state_debug         (io_lsu_state_debug),
    .io_lsu_is_ld_or_st_debug   (io_lsu_is_ld_or_st_debug),
    .io_lsu_reg_inst_debug      (io_lsu_reg_inst_debug),
    .io_dmem_wdata_debug        (io_dmem_wdata_debug),
    .io_dmem_rdata_debug        (io_dmem_rdata_debug),
    .io_lsu_reg_dmem_addr_debug (io_lsu_reg_dmem_addr_debug)
  );
  WBU wbu (	// src/main/scala/npc/core.scala:49:21
    .clock                       (clock),
    .reset                       (reset),
    .io_in_ready                 (_wbu_io_in_ready),
    .io_in_valid                 (_lsu_io_out_valid),	// src/main/scala/npc/core.scala:48:21
    .io_in_bits_inst             (_lsu_io_out_bits_inst),	// src/main/scala/npc/core.scala:48:21
    .io_in_bits_pc               (_lsu_io_out_bits_pc),	// src/main/scala/npc/core.scala:48:21
    .io_in_bits_dmem_rdata       (_lsu_io_out_bits_dmem_rdata),	// src/main/scala/npc/core.scala:48:21
    .io_in_bits_result           (_lsu_io_out_bits_result),	// src/main/scala/npc/core.scala:48:21
    .io_in_bits_wb_addr          (_lsu_io_out_bits_wb_addr),	// src/main/scala/npc/core.scala:48:21
    .io_wb_data                  (_wbu_io_wb_data),
    .io_wb_addr                  (_wbu_io_wb_addr),
    .io_wb_wen                   (_wbu_io_wb_wen),
    .io_pc_wen                   (_wbu_io_pc_wen),
    .io_wbu_state_debug          (io_wbu_state_debug),
    .io_wb_data_debug            (io_wb_data_debug),
    .io_wb_wen_debug             (io_wb_wen_debug),
    .io_wb_sel_debug             (io_wb_sel_debug),
    .io_wbu_reg_dmem_rdata_debug (io_wbu_reg_dmem_rdata_debug)
  );
  RegisterFile regfile (	// src/main/scala/npc/core.scala:50:25
    .clk      (clock),
    .rs1_addr (_idu_io_rs1_addr),	// src/main/scala/npc/core.scala:46:21
    .rs2_addr (_idu_io_rs2_addr),	// src/main/scala/npc/core.scala:46:21
    .rd_addr  (_wbu_io_wb_addr),	// src/main/scala/npc/core.scala:49:21
    .rd_data  (_wbu_io_wb_data),	// src/main/scala/npc/core.scala:49:21
    .wen      (_wbu_io_wb_wen),	// src/main/scala/npc/core.scala:49:21
    .rs1_data (_regfile_rs1_data),
    .rs2_data (_regfile_rs2_data)
  );
  MemoryArbiter arbiter (	// src/main/scala/npc/core.scala:82:25
    .clock                  (clock),
    .reset                  (reset),
    .io_ifu_ar_addr         (_ifu_io_memory_ar_addr),	// src/main/scala/npc/core.scala:45:21
    .io_ifu_ar_valid        (_ifu_io_memory_ar_valid),	// src/main/scala/npc/core.scala:45:21
    .io_ifu_ar_ready        (_arbiter_io_ifu_ar_ready),
    .io_ifu_r_data          (_arbiter_io_ifu_r_data),
    .io_ifu_r_valid         (_arbiter_io_ifu_r_valid),
    .io_ifu_r_ready         (_ifu_io_memory_r_ready),	// src/main/scala/npc/core.scala:45:21
    .io_lsu_aw_addr         (_lsu_io_memory_aw_addr),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_aw_size         (_lsu_io_memory_aw_size),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_aw_valid        (_lsu_io_memory_aw_valid),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_aw_ready        (_arbiter_io_lsu_aw_ready),
    .io_lsu_w_data          (_lsu_io_memory_w_data),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_w_strb          (_lsu_io_memory_w_strb),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_w_last          (_lsu_io_memory_w_last),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_w_valid         (_lsu_io_memory_w_valid),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_w_ready         (_arbiter_io_lsu_w_ready),
    .io_lsu_b_resp          (_arbiter_io_lsu_b_resp),
    .io_lsu_b_valid         (_arbiter_io_lsu_b_valid),
    .io_lsu_b_ready         (_lsu_io_memory_b_ready),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_ar_addr         (_lsu_io_memory_ar_addr),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_ar_size         (_lsu_io_memory_ar_size),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_ar_valid        (_lsu_io_memory_ar_valid),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_ar_ready        (_arbiter_io_lsu_ar_ready),
    .io_lsu_r_data          (_arbiter_io_lsu_r_data),
    .io_lsu_r_resp          (_arbiter_io_lsu_r_resp),
    .io_lsu_r_valid         (_arbiter_io_lsu_r_valid),
    .io_lsu_r_ready         (_lsu_io_memory_r_ready),	// src/main/scala/npc/core.scala:48:21
    .io_axi_aw_addr         (_arbiter_io_axi_aw_addr),
    .io_axi_aw_size         (_arbiter_io_axi_aw_size),
    .io_axi_aw_valid        (_arbiter_io_axi_aw_valid),
    .io_axi_aw_ready        (_xbar_io_in_aw_ready),	// src/main/scala/npc/core.scala:89:22
    .io_axi_w_data          (_arbiter_io_axi_w_data),
    .io_axi_w_strb          (_arbiter_io_axi_w_strb),
    .io_axi_w_last          (_arbiter_io_axi_w_last),
    .io_axi_w_valid         (_arbiter_io_axi_w_valid),
    .io_axi_w_ready         (_xbar_io_in_w_ready),	// src/main/scala/npc/core.scala:89:22
    .io_axi_b_resp          (_xbar_io_in_b_resp),	// src/main/scala/npc/core.scala:89:22
    .io_axi_b_valid         (_xbar_io_in_b_valid),	// src/main/scala/npc/core.scala:89:22
    .io_axi_b_ready         (_arbiter_io_axi_b_ready),
    .io_axi_ar_addr         (_arbiter_io_axi_ar_addr),
    .io_axi_ar_size         (_arbiter_io_axi_ar_size),
    .io_axi_ar_valid        (_arbiter_io_axi_ar_valid),
    .io_axi_ar_ready        (_xbar_io_in_ar_ready),	// src/main/scala/npc/core.scala:89:22
    .io_axi_r_data          (_xbar_io_in_r_data),	// src/main/scala/npc/core.scala:89:22
    .io_axi_r_resp          (_xbar_io_in_r_resp),	// src/main/scala/npc/core.scala:89:22
    .io_axi_r_valid         (_xbar_io_in_r_valid),	// src/main/scala/npc/core.scala:89:22
    .io_axi_r_ready         (_arbiter_io_axi_r_ready),
    .io_ifu_handshake_valid (_ifu_io_arbiter_valid),	// src/main/scala/npc/core.scala:45:21
    .io_ifu_handshake_ready (_arbiter_io_ifu_handshake_ready),
    .io_lsu_handshake_valid (_lsu_io_arbiter_valid),	// src/main/scala/npc/core.scala:48:21
    .io_lsu_handshake_ready (_arbiter_io_lsu_handshake_ready),
    .io_Arbiter_state_debug (io_Arbiter_state_debug)
  );
  Xbar xbar (	// src/main/scala/npc/core.scala:89:22
    .io_in_aw_addr    (_arbiter_io_axi_aw_addr),	// src/main/scala/npc/core.scala:82:25
    .io_in_aw_size    (_arbiter_io_axi_aw_size),	// src/main/scala/npc/core.scala:82:25
    .io_in_aw_valid   (_arbiter_io_axi_aw_valid),	// src/main/scala/npc/core.scala:82:25
    .io_in_aw_ready   (_xbar_io_in_aw_ready),
    .io_in_w_data     (_arbiter_io_axi_w_data),	// src/main/scala/npc/core.scala:82:25
    .io_in_w_strb     (_arbiter_io_axi_w_strb),	// src/main/scala/npc/core.scala:82:25
    .io_in_w_last     (_arbiter_io_axi_w_last),	// src/main/scala/npc/core.scala:82:25
    .io_in_w_valid    (_arbiter_io_axi_w_valid),	// src/main/scala/npc/core.scala:82:25
    .io_in_w_ready    (_xbar_io_in_w_ready),
    .io_in_b_resp     (_xbar_io_in_b_resp),
    .io_in_b_valid    (_xbar_io_in_b_valid),
    .io_in_b_ready    (_arbiter_io_axi_b_ready),	// src/main/scala/npc/core.scala:82:25
    .io_in_ar_addr    (_arbiter_io_axi_ar_addr),	// src/main/scala/npc/core.scala:82:25
    .io_in_ar_size    (_arbiter_io_axi_ar_size),	// src/main/scala/npc/core.scala:82:25
    .io_in_ar_valid   (_arbiter_io_axi_ar_valid),	// src/main/scala/npc/core.scala:82:25
    .io_in_ar_ready   (_xbar_io_in_ar_ready),
    .io_in_r_data     (_xbar_io_in_r_data),
    .io_in_r_resp     (_xbar_io_in_r_resp),
    .io_in_r_valid    (_xbar_io_in_r_valid),
    .io_in_r_ready    (_arbiter_io_axi_r_ready),	// src/main/scala/npc/core.scala:82:25
    .io_soc_aw_addr   (io_master_awaddr),
    .io_soc_aw_size   (io_master_awsize),
    .io_soc_aw_valid  (io_master_awvalid),
    .io_soc_aw_ready  (io_master_awready),
    .io_soc_w_data    (io_master_wdata),
    .io_soc_w_strb    (io_master_wstrb),
    .io_soc_w_last    (io_master_wlast),
    .io_soc_w_valid   (io_master_wvalid),
    .io_soc_w_ready   (io_master_wready),
    .io_soc_b_resp    (io_master_bresp),
    .io_soc_b_valid   (io_master_bvalid),
    .io_soc_b_ready   (io_master_bready),
    .io_soc_ar_addr   (io_master_araddr),
    .io_soc_ar_size   (io_master_arsize),
    .io_soc_ar_valid  (io_master_arvalid),
    .io_soc_ar_ready  (io_master_arready),
    .io_soc_r_data    (io_master_rdata),
    .io_soc_r_resp    (io_master_rresp),
    .io_soc_r_valid   (io_master_rvalid),
    .io_soc_r_ready   (io_master_rready),
    .io_clint_ar_addr (_xbar_io_clint_ar_addr),
    .io_clint_r_data  (_clint_io_in_r_data)	// src/main/scala/npc/core.scala:90:23
  );
  clint clint (	// src/main/scala/npc/core.scala:90:23
    .clock         (clock),
    .reset         (reset),
    .io_in_ar_addr (_xbar_io_clint_ar_addr),	// src/main/scala/npc/core.scala:89:22
    .io_in_r_data  (_clint_io_in_r_data)
  );
  assign io_master_awlen = 8'h0;	// src/main/scala/npc/core.scala:8:7, :45:21, :48:21, :82:25, :89:22, :90:23
  assign io_master_awburst = 2'h1;	// src/main/scala/npc/core.scala:8:7, :45:21, :48:21, :82:25, :89:22, :90:23
  assign io_master_awid = 4'h0;	// src/main/scala/npc/core.scala:8:7, :45:21, :48:21, :82:25, :89:22, :90:23
  assign io_master_arlen = 8'h0;	// src/main/scala/npc/core.scala:8:7, :45:21, :48:21, :82:25, :89:22, :90:23
  assign io_master_arburst = 2'h1;	// src/main/scala/npc/core.scala:8:7, :45:21, :48:21, :82:25, :89:22, :90:23
  assign io_master_arid = 4'h0;	// src/main/scala/npc/core.scala:8:7, :45:21, :48:21, :82:25, :89:22, :90:23
  assign io_slave_awready = 1'h0;	// src/main/scala/common/axi4.scala:73:18, src/main/scala/npc/core.scala:8:7
  assign io_slave_wready = 1'h0;	// src/main/scala/common/axi4.scala:73:18, src/main/scala/npc/core.scala:8:7
  assign io_slave_bid = 4'h0;	// src/main/scala/npc/core.scala:8:7, :45:21, :48:21, :82:25, :89:22, :90:23
  assign io_slave_bresp = 2'h0;	// src/main/scala/common/axi4.scala:112:16, src/main/scala/npc/core.scala:8:7
  assign io_slave_bvalid = 1'h0;	// src/main/scala/common/axi4.scala:73:18, src/main/scala/npc/core.scala:8:7
  assign io_slave_arready = 1'h0;	// src/main/scala/common/axi4.scala:73:18, src/main/scala/npc/core.scala:8:7
  assign io_slave_rid = 4'h0;	// src/main/scala/npc/core.scala:8:7, :45:21, :48:21, :82:25, :89:22, :90:23
  assign io_slave_rdata = 32'h0;	// src/main/scala/common/axi4.scala:74:17, src/main/scala/npc/core.scala:8:7
  assign io_slave_rresp = 2'h0;	// src/main/scala/common/axi4.scala:112:16, src/main/scala/npc/core.scala:8:7
  assign io_slave_rlast = 1'h0;	// src/main/scala/common/axi4.scala:73:18, src/main/scala/npc/core.scala:8:7
  assign io_slave_rvalid = 1'h0;	// src/main/scala/common/axi4.scala:73:18, src/main/scala/npc/core.scala:8:7
  assign io_lsu_memory_ar_size = _lsu_io_memory_ar_size;	// src/main/scala/npc/core.scala:8:7, :48:21
endmodule


// ----- 8< ----- FILE "./EBreakHandler.v" ----- 8< -----



module EBreakHandler(
    input wire [31:0] inst,
    input wire        lsu_axi_resp_err
);

import "DPI-C" function void simulation_exit();

    always @(*) begin
        if (inst == 32'h00100073) begin
            $display("EBREAK: Simulation exiting...");
            simulation_exit(); // 通知仿真环境结束
        end
    end

    always @(*) begin
        if (lsu_axi_resp_err == 1'b1) begin
            $display("LSU memory access error...");
            simulation_exit(); // 通知仿真环境结束
        end
    end

endmodule
    

// ----- 8< ----- FILE "./RegisterFile.v" ----- 8< -----


module RegisterFile #(
    parameter ADDR_WIDTH = 5,
    parameter DATA_WIDTH = 32
)(
    input clk,
    input [DATA_WIDTH-1:0] rd_data,
    input [ADDR_WIDTH-1:0] rd_addr,
    input wen,
    input [ADDR_WIDTH-1:0] rs1_addr,
    input [ADDR_WIDTH-1:0] rs2_addr,
    output [DATA_WIDTH-1:0] rs1_data,
    output [DATA_WIDTH-1:0] rs2_data
);

    // DPI-C function to get the register values
    import "DPI-C" function void get_register_values(input logic [31:0] rf[31:0]);

    // initialize the register file 
    initial begin
        integer i;
        for (i = 0; i < 2**ADDR_WIDTH; i = i + 1) begin
            rf[i] = {DATA_WIDTH{1'b0}};
        end
    end

    // signal declaration
    reg [DATA_WIDTH-1:0] rf [2**ADDR_WIDTH-1:0];

    // procedural block
    always @(posedge clk) begin
        if (wen && rd_addr != 0) begin
            rf[rd_addr] <= rd_data;
        end
    end

    always @(*) begin
        get_register_values(rf);
    end

    // signal assignments
    assign rs1_data = rf[rs1_addr];
    assign rs2_data = rf[rs2_addr];

endmodule
    

